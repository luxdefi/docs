"use strict";(self.webpackChunklux_docs=self.webpackChunklux_docs||[]).push([[155],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),d=u(n),h=o,k=d["".concat(s,".").concat(h)]||d[h]||p[h]||l;return n?a.createElement(k,i(i({ref:t},c),{},{components:n})):a.createElement(k,i({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,i=new Array(l);i[0]=d;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:o,i[1]=r;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9630:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return r},metadata:function(){return u},toc:function(){return p}});var a=n(7462),o=n(3366),l=(n(7294),n(3905)),i=["components"],r={},s="Create an EVM Subnet on a Local Network",u={unversionedId:"subnets/create-a-local-subnet",id:"subnets/create-a-local-subnet",title:"Create an EVM Subnet on a Local Network",description:"To learn how to develop a Subnet, the first step is to create a local Subnet so that you can experience it freely without too much constraints. Lux-CLI provides such a utility.",source:"@site/docs/subnets/create-a-local-subnet.md",sourceDirName:"subnets",slug:"/subnets/create-a-local-subnet",permalink:"/subnets/create-a-local-subnet",draft:!1,editUrl:"https://github.com/luxdefi/network-docs/edit/main/docs/subnets/create-a-local-subnet.md",tags:[],version:"current",frontMatter:{},sidebar:"subnets",previous:{title:"Subnets Overview",permalink:"/subnets/"},next:{title:"Create an EVM Subnet on Fuji Testnet",permalink:"/subnets/create-a-fuji-subnet"}},c={},p=[{value:"Installation",id:"installation",level:2},{value:"Installing in Custom Location",id:"installing-in-custom-location",level:3},{value:"Quickstart",id:"quickstart",level:2},{value:"Docker",id:"docker",level:3},{value:"Currently Supported Functionality",id:"currently-supported-functionality",level:3},{value:"Notable Missing Features",id:"notable-missing-features",level:3},{value:"Subnet",id:"subnet",level:2},{value:"Subnet-EVM",id:"subnet-evm",level:3},{value:"Create a Custom Subnet Configuration",id:"create-a-custom-subnet-configuration",level:3},{value:"View Created Subnet Configurations",id:"view-created-subnet-configurations",level:3},{value:"Deploying Subnets Locally",id:"deploying-subnets-locally",level:3},{value:"Deploying to Fuji",id:"deploying-to-fuji",level:3},{value:"Delete a Subnet Configuration",id:"delete-a-subnet-configuration",level:3},{value:"Network",id:"network",level:2},{value:"Stopping the Local Network",id:"stopping-the-local-network",level:3},{value:"Starting/Restarting the Local Network",id:"startingrestarting-the-local-network",level:3},{value:"Deleting the Local Network",id:"deleting-the-local-network",level:3},{value:"Checking Network Status",id:"checking-network-status",level:3},{value:"Connect with Metamask",id:"connect-with-metamask",level:2},{value:"Smart Contract",id:"smart-contract",level:2},{value:"Next Step",id:"next-step",level:2}],d={toc:p};function h(e){var t=e.components,r=(0,o.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"create-an-evm-subnet-on-a-local-network"},"Create an EVM Subnet on a Local Network"),(0,l.kt)("p",null,"To learn how to develop a Subnet, the first step is to create a local Subnet so that you can experience it freely without too much constraints. ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/luxdefi/lux-cli"},"Lux-CLI")," provides such a utility."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Lux-CLI is very early in its lifecycle. It will evolve rapidly over the coming weeks and months. Until we achieve our first mature release, we are not committed to preserving backwards compatibility. Commands may be renamed or removed in future versions. Examples and their output may become outdated. Please check this page and ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/luxdefi/lux-cli"},"the github project")," often and run through the commands to experience them.")),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)("p",null,"To download a binary for the latest release, run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sSfL https://raw.githubusercontent.com/luxdefi/lux-cli/main/scripts/install.sh | sh -s\n")),(0,l.kt)("p",null,"The binary will be installed inside the ",(0,l.kt)("inlineCode",{parentName:"p"},"./")," directory (relative to where the install command was run)."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Downloading binaries from the Github UI will cause permission errors when running it the first time on Mac.")),(0,l.kt)("p",null,"To add the binary to your path, run"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd bin\nexport PATH=$PWD:$PATH\n")),(0,l.kt)("p",null,"To add it to your path permanently, add an export command to your shell initialization script (ex: .bashrc)."),(0,l.kt)("h3",{id:"installing-in-custom-location"},"Installing in Custom Location"),(0,l.kt)("p",null,"To download the binary into a specific directory, run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"curl -sSfL https://raw.githubusercontent.com/luxdefi/lux-cli/main/scripts/install.sh | sh -s -- -b <relative directory>\n")),(0,l.kt)("h2",{id:"quickstart"},"Quickstart"),(0,l.kt)("p",null,"After installing, launch your own custom Subnet:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sSfL https://raw.githubusercontent.com/luxdefi/lux-cli/main/scripts/install.sh | sh -s\ncd bin\nexport PATH=$PWD:$PATH\nlux subnet create <subnetName>\nlux subnet deploy <subnetName>\n")),(0,l.kt)("p",null,"Shut down your local deployment with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"lux network stop\n")),(0,l.kt)("p",null,"Restart your local deployment (from where you left off) with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"lux network start\n")),(0,l.kt)("h3",{id:"docker"},"Docker"),(0,l.kt)("p",null,"To make Lux CLI working in a docker, add this"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ipv6": true,\n  "fixed-cidr-v6": "fd00::/80"\n}\n')),(0,l.kt)("p",null,"to ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/docker/daemon.json")," on the host, then restart the docker service. This is because ipv6 is used to resolve local bootstrap IPs, and it is not enabled on a docker container by default."),(0,l.kt)("h3",{id:"currently-supported-functionality"},"Currently Supported Functionality"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Creation of Subnet-EVM configs and Subnet-EVM forks"),(0,l.kt)("li",{parentName:"ul"},"Local deployment of Subnet-EVM based Subnets"),(0,l.kt)("li",{parentName:"ul"},"Fuji deployment of Subnet-EVM based Subnets")),(0,l.kt)("h3",{id:"notable-missing-features"},"Notable Missing Features"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Mainnet Subnet-EVM deploys")),(0,l.kt)("h2",{id:"subnet"},"Subnet"),(0,l.kt)("p",null,"The Subnet command suite provides a collection of tools for developing and deploying Subnets."),(0,l.kt)("p",null,"To get started, use the ",(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet create")," command wizard to walk through the configuration of your very first Subnet. Then, go ahead and deploy it with the ",(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet deploy")," command. You can use the rest of the commands to manage your subnet configurations."),(0,l.kt)("h3",{id:"subnet-evm"},"Subnet-EVM"),(0,l.kt)("p",null,"Subnet-EVM is a configurable Ethereum virtual machine designed for Subnets. It supports airdrops, custom fee tokens, configurable gas parameters, and multiple stateful precompiles. To learn more, check out the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/luxdefi/subnet-evm"},"github project"),"."),(0,l.kt)("h3",{id:"create-a-custom-subnet-configuration"},"Create a Custom Subnet Configuration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet create <subnetName>")),(0,l.kt)("p",null,"If you don't provide any arguments, the Subnet creation wizard will walk you through the entire process. This will create a genesis file for your network. It contains all of the information you need to airdrop tokens, set a gas config, and enable any custom precompiles. You can read more about Subnet configuration ",(0,l.kt)("a",{parentName:"p",href:"/subnets/customize-a-subnet"},"here"),"."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("p",null,"Command ",(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet create firstsubet")," walks through following questions:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Choose a VM: default to SubnetEVM"),(0,l.kt)("li",{parentName:"ul"},"Pick a chain ID"),(0,l.kt)("li",{parentName:"ul"},"Set fees: default to Lux C-Chain's setting"),(0,l.kt)("li",{parentName:"ul"},"Airdrop: default to airdrop 1 million tokens"),(0,l.kt)("li",{parentName:"ul"},"Add a custom precompile to modify the EVM: default to no.")),(0,l.kt)("p",null,"The wizard won't customize every aspect of the Subnet-EVM genesis for you. If you'd like complete control, you can specify a custom genesis by providing a path to the file you'd like to use. Run with:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet create <subnetName> --file <filepath>")),(0,l.kt)("p",null,"One special note: Every EVM-based chain has a parameter called the ",(0,l.kt)("inlineCode",{parentName:"p"},"chainId"),". When choosing a ",(0,l.kt)("inlineCode",{parentName:"p"},"chainId")," for your network, you should choose a unique value. Check ",(0,l.kt)("a",{parentName:"p",href:"https://chainlist.org/"},"chainlist.org")," to see if the value you'd like is already in use."),(0,l.kt)("p",null,"By default, creating a Subnet configuration with the same subnetName as one that already exists will fail. To overwrite an existing config, use the force flag:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet create <existingSubnetName> -f")),(0,l.kt)("h3",{id:"view-created-subnet-configurations"},"View Created Subnet Configurations"),(0,l.kt)("p",null,"You can list the Subnets you've created with"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet list")),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"> lux subnet list\n+-------------+-------------+-----------+\n|   SUBNET    |    CHAIN    |   TYPE    |\n+-------------+-------------+-----------+\n| firstsubnet | firstsubnet | SubnetEVM |\n+-------------+-------------+-----------+\n")),(0,l.kt)("p",null,"To see the details of a specific configuration, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet describe <subnetName>")),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"> lux subnet describe firstsubnet\n\n _____       _        _ _\n|  __ \\     | |      (_) |\n| |  | | ___| |_ __ _ _| |___\n| |  | |/ _ \\ __/ _  | | / __|\n| |__| |  __/ || (_| | | \\__ \\\n|_____/ \\___|\\__\\__,_|_|_|___/\n+-------------+-------------+\n|  PARAMETER  |    VALUE    |\n+-------------+-------------+\n| Subnet Name | firstsubnet |\n+-------------+-------------+\n| ChainId     |       12345 |\n+-------------+-------------+\n\n  _____              _____             __ _\n / ____|            / ____|           / _(_)\n| |  __  __ _ ___  | |     ___  _ __ | |_ _  __ _\n| | |_ |/ _  / __| | |    / _ \\| '_ \\|  _| |/ _  |\n| |__| | (_| \\__ \\ | |___| (_) | | | | | | | (_| |\n \\_____|\\__,_|___/  \\_____\\___/|_| |_|_| |_|\\__, |\n                                             __/ |\n                                            |___/\n+--------------------------+-------------+\n|      GAS PARAMETER       |    VALUE    |\n+--------------------------+-------------+\n| GasLimit                 |     8000000 |\n+--------------------------+-------------+\n| MinBaseFee               | 25000000000 |\n+--------------------------+-------------+\n| TargetGas                |    15000000 |\n+--------------------------+-------------+\n| BaseFeeChangeDenominator |          36 |\n+--------------------------+-------------+\n| MinBlockGasCost          |           0 |\n+--------------------------+-------------+\n| MaxBlockGasCost          |     1000000 |\n+--------------------------+-------------+\n| TargetBlockRate          |           2 |\n+--------------------------+-------------+\n| BlockGasCostStep         |      200000 |\n+--------------------------+-------------+\n\n          _         _\n    /\\   (_)       | |\n   /  \\   _ _ __ __| |_ __ ___  _ __\n  / /\\ \\ | | '__/ _  | '__/ _ \\| '_ \\\n / ____ \\| | | | (_| | | | (_) | |_) |\n/_/    \\_\\_|_|  \\__,_|_|  \\___/| .__/\n                               | |\n                               |_|\n+--------------------------------------------+------------------------+---------------------------+\n|                  ADDRESS                   | AIRDROP AMOUNT (10^18) |   AIRDROP AMOUNT (WEI)    |\n+--------------------------------------------+------------------------+---------------------------+\n| 0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC |                1000000 | 1000000000000000000000000 |\n+--------------------------------------------+------------------------+---------------------------+\n\n\n  _____                                    _ _\n |  __ \\                                  (_) |\n | |__) | __ ___  ___ ___  _ __ ___  _ __  _| | ___  ___\n |  ___/ '__/ _ \\/ __/ _ \\| '_   _ \\| '_ \\| | |/ _ \\/ __|\n | |   | | |  __/ (_| (_) | | | | | | |_) | | |  __/\\__ \\\n |_|   |_|  \\___|\\___\\___/|_| |_| |_| .__/|_|_|\\___||___/\n                                    | |\n                                    |_|\n\nNo precompiles set\n")),(0,l.kt)("p",null,"If you'd like to see the raw genesis file, supply the ",(0,l.kt)("inlineCode",{parentName:"p"},"--genesis")," flag:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet describe <subnetName> --genesis")),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'> lux subnet describe firstsubnet --genesis\n{\n    "config": {\n        "chainId": 12345,\n        "homesteadBlock": 0,\n        "eip150Block": 0,\n        "eip150Hash": "0x2086799aeebeae135c246c65021c82b4e15a2c451340993aacfd2751886514f0",\n        "eip155Block": 0,\n        "eip158Block": 0,\n        "byzantiumBlock": 0,\n        "constantinopleBlock": 0,\n        "petersburgBlock": 0,\n        "istanbulBlock": 0,\n        "muirGlacierBlock": 0,\n        "subnetEVMTimestamp": 0,\n        "feeConfig": {\n            "gasLimit": 8000000,\n            "targetBlockRate": 2,\n            "minBaseFee": 25000000000,\n            "targetGas": 15000000,\n            "baseFeeChangeDenominator": 36,\n            "minBlockGasCost": 0,\n            "maxBlockGasCost": 1000000,\n            "blockGasCostStep": 200000\n        },\n        "contractDeployerAllowListConfig": {\n            "blockTimestamp": null,\n            "adminAddresses": null\n        },\n        "contractNativeMinterConfig": {\n            "blockTimestamp": null,\n            "adminAddresses": null\n        },\n        "txAllowListConfig": {\n            "blockTimestamp": null,\n            "adminAddresses": null\n        }\n    },\n    "nonce": "0x0",\n    "timestamp": "0x0",\n    "extraData": "0x",\n    "gasLimit": "0x7a1200",\n    "difficulty": "0x0",\n    "mixHash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n    "coinbase": "0x0000000000000000000000000000000000000000",\n    "alloc": {\n        "8db97c7cece249c2b98bdc0226cc4c2a57bf52fc": {\n            "balance": "0xd3c21bcecceda1000000"\n        }\n    },\n    "airdropHash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n    "airdropAmount": null,\n    "number": "0x0",\n    "gasUsed": "0x0",\n    "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n    "baseFeePerGas": null\n}\n')),(0,l.kt)("h3",{id:"deploying-subnets-locally"},"Deploying Subnets Locally"),(0,l.kt)("p",null,"Currently, this tool only supports local Subnet deploys. Fuji and Mainnet deploys will be arriving shortly."),(0,l.kt)("p",null,"To deploy, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet deploy <subnetName>")),(0,l.kt)("p",null,"Local deploys will start a multi-node Lux network in the background on your machine. Progress will be shown until it completes. It also prints info needed for connecting with Metamask."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'> lux subnet deploy firstsubnet\n\u2714 Local Network\nDeploying [firstsubnet] to Local Network\nBackend controller started, pid: 71505, output at: /var/folders/0h/v4nrbbsn1vvbr5h2wfrh5h500000gn/T/lux-cli-backend57656025\nLuxgo installation successful\ndialing endpoint ":8097"\nVM ready. Trying to boot network...\nNetwork has been booted. Wait until healthy. Please be patient, this will take some time...\n...............................................................................\nNetwork ready to use. Local network node endpoints:\nEndpoint at node node4 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:63196/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node5 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:49912/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node1 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:47497/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node2 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:62099/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node3 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:48498/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\n\nMetamask connection details (any node URL from above works):\nRPC URL:          http://127.0.0.1:63196/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nFunded address:   0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC with 1000000 (10^18) - private key: 56289e99c94b6912bfc12adc093c9b51124f0dc54ac7a766b2bc5ccf558d8027\nNetwork name:     firstsubnet\nChain ID:         12345\nCurrency Symbol:  TEST\n')),(0,l.kt)("p",null,"To manage that network, see ",(0,l.kt)("a",{parentName:"p",href:"#network"},"the ",(0,l.kt)("inlineCode",{parentName:"a"},"lux network")," command tree"),"."),(0,l.kt)("h3",{id:"deploying-to-fuji"},"Deploying to Fuji"),(0,l.kt)("p",null,"If you can't wait to for this tool's Fuji integration, you can use the ",(0,l.kt)("inlineCode",{parentName:"p"},"subnet-cli")," tool to deploy your Subnet."),(0,l.kt)("p",null,"First, export your Subnet's genesis file with ",(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet describe --genesis <subnetName>"),". Then, use that genesis file to complete the instructions listed ",(0,l.kt)("a",{parentName:"p",href:"/subnets/create-a-fuji-subnet#run-subnet-cli-wizard"},"here"),"."),(0,l.kt)("h3",{id:"delete-a-subnet-configuration"},"Delete a Subnet Configuration"),(0,l.kt)("p",null,"To delete a created Subnet configuration, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux subnet delete <subnetName>")),(0,l.kt)("h2",{id:"network"},"Network"),(0,l.kt)("p",null,"The network command suite provides a collection of tools for managing local Subnet deployments."),(0,l.kt)("p",null,"When a Subnet is deployed locally, it runs on a local, multi-node Lux network. Deploying a Subnet locally will start this network in the background. This command suite allows you to shutdown and restart that network."),(0,l.kt)("p",null,"This network currently supports multiple, concurrently deployed Subnets and will eventually support nodes with varying configurations. Expect more functionality in future releases."),(0,l.kt)("h3",{id:"stopping-the-local-network"},"Stopping the Local Network"),(0,l.kt)("p",null,"To stop a running local network, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux network stop [snapshotName]")),(0,l.kt)("p",null,"This graceful shutdown will preserve network state. When restarted, your Subnet should resume at the same place it left off.\n",(0,l.kt)("inlineCode",{parentName:"p"},"snapshotName")," is optional, if provided, a named snapshot will be created which can later be started again with ",(0,l.kt)("inlineCode",{parentName:"p"},"lux network start snapshotName"),".\nIf not provided, a default snapshot will be created. The default snapshot will be overwritten at each ",(0,l.kt)("inlineCode",{parentName:"p"},"stop"),"."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'> lux network stop\ndialing endpoint ":8097"\nNetwork stopped successfully.\n')),(0,l.kt)("h3",{id:"startingrestarting-the-local-network"},"Starting/Restarting the Local Network"),(0,l.kt)("p",null,"To start or restart a stopped network, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux network start [snapshotName]")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"snapshotName")," is optional, if provided the named snapshot will be used to start the network (if found).\nIf not provided, the last snapshot created with a unnamed ",(0,l.kt)("inlineCode",{parentName:"p"},"stop")," will be used."),(0,l.kt)("p",null,"If the default snapshot doesn't exist (because no ",(0,l.kt)("inlineCode",{parentName:"p"},"stop")," has been run yet, and/or no Subnet has been deployed yet), the command will fail."),(0,l.kt)("p",null,"Deploying a Subnet locally will start the network automatically."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'> lux network start\ndialing endpoint ":8097"\nStarting previously deployed and stopped snapshot\n.....................\nNetwork ready to use. Local network node endpoints:\nEndpoint at node node3 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:48498/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node4 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:63196/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node5 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:49912/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node1 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:47497/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nEndpoint at node node2 for blockchain "n6yXZSaNXCvh6BUTJ2fgyc4iDxoz21NVaVgY3N4sSpTGMqJzc": http://127.0.0.1:62099/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\n')),(0,l.kt)("h3",{id:"deleting-the-local-network"},"Deleting the Local Network"),(0,l.kt)("p",null,"To stop your local network and clear its state, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux network clean")),(0,l.kt)("p",null,"This will delete all stored deploy state for all local Subnet deployments. This will not delete any of your Subnet configurations. You will need to redeploy your Subnet configurations one by one to use them again."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'> lux network clean\ndialing endpoint ":8097"\nProcess terminated.\n')),(0,l.kt)("h3",{id:"checking-network-status"},"Checking Network Status"),(0,l.kt)("p",null,"If you'd like to determine whether or not a local Lux network is running on your machine, run"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"lux network status")),(0,l.kt)("h2",{id:"connect-with-metamask"},"Connect with Metamask"),(0,l.kt)("p",null,"Please use the value provided by ",(0,l.kt)("inlineCode",{parentName:"p"},"Metamask connection details")," to connect with Metamask."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Metamask connection details (any node URL from above works):\nRPC URL:          http://127.0.0.1:63196/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc\nFunded address:   0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC with 1000000 (10^18) - private key: 56289e99c94b6912bfc12adc093c9b51124f0dc54ac7a766b2bc5ccf558d8027\nNetwork name:     firstsubnet\nChain ID:         12345\nCurrency Symbol:  TEST\n")),(0,l.kt)("p",null,"You can create a new metamask account by importing the private key ",(0,l.kt)("inlineCode",{parentName:"p"},"0x56289e99c94b6912bfc12adc093c9b51124f0dc54ac7a766b2bc5ccf558d8027")," and start experiencing with this account."),(0,l.kt)("p",null,"Here is a screenshot of Metamask when everything is set correctly:\n",(0,l.kt)("img",{alt:"Lux CLI Metamask",src:n(8648).Z,width:"712",height:"860"})),(0,l.kt)("h2",{id:"smart-contract"},"Smart Contract"),(0,l.kt)("p",null,"You can use this newly created Subnet just like you use C-Chain and EVM tools. Only differences are ",(0,l.kt)("inlineCode",{parentName:"p"},"chainID")," and RPC URL. For example you can follow this article to ",(0,l.kt)("a",{parentName:"p",href:"/subnets/deploy-a-smart-contract-on-your-evm"},"Deploy a Smart Contract on Your Subnet EVM Using Remix and Metamask"),". Or you can deploy your contracts with ",(0,l.kt)("a",{parentName:"p",href:"/dapps/smart-contracts/using-hardhat-with-the-lux-c-chain"},"hardhat quick start guide")," by changing ",(0,l.kt)("inlineCode",{parentName:"p"},"url")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"chainId")," in the ",(0,l.kt)("inlineCode",{parentName:"p"},"hardhat.config.ts"),"."),(0,l.kt)("p",null,"For example: to connect ",(0,l.kt)("inlineCode",{parentName:"p"},"Hardhat")," to the local network that deployed with the Lux-CLI, we would create a network setting in ",(0,l.kt)("inlineCode",{parentName:"p"},"hardhat.config.ts")," that looks similar to this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'testChain: {\n      url: "http://127.0.0.1:63196/ext/bc/2GAinA2PAEEEnuy1yTeqgqCbQWUGFTvUaiDSRiZgMrRRoLYs92/rpc",\n      chainId: 12345,\n      accounts: ["<YOUR-PRIVATE-KEY-HERE>"],\n    }\n')),(0,l.kt)("h2",{id:"next-step"},"Next Step"),(0,l.kt)("p",null,"After you feel comfortable moving forward, you should try it on the Fuji Testnet by following ",(0,l.kt)("a",{parentName:"p",href:"/subnets/create-a-fuji-subnet"},"this tutorial"),"."))}h.isMDXComponent=!0},8648:function(e,t,n){t.Z=n.p+"assets/images/lux-cli-metamask-2b0159881455ed797fd71999d39318a8.png"}}]);