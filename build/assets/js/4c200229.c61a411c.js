"use strict";(self.webpackChunklux_docs=self.webpackChunklux_docs||[]).push([[9885],{3905:function(e,a,t){t.d(a,{Zo:function(){return s},kt:function(){return f}});var n=t(7294);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=n.createContext({}),o=function(e){var a=n.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},s=function(e){var a=o(e.components);return n.createElement(c.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=o(t),f=i,m=u["".concat(c,".").concat(f)]||u[f]||d[f]||r;return t?n.createElement(m,l(l({ref:a},s),{},{components:t})):n.createElement(m,l({ref:a},s))}));function f(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=t.length,l=new Array(r);l[0]=u;var p={};for(var c in a)hasOwnProperty.call(a,c)&&(p[c]=a[c]);p.originalType=e,p.mdxType="string"==typeof e?e:i,l[1]=p;for(var o=2;o<r;o++)l[o]=t[o];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},7253:function(e,a,t){t.r(a),t.d(a,{assets:function(){return s},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return p},metadata:function(){return o},toc:function(){return d}});var n=t(7462),i=t(3366),r=(t(7294),t(3905)),l=["components"],p={},c="CB58 Deprecation in LuxGo API",o={unversionedId:"apis/luxd/cb58-deprecation",id:"apis/luxd/cb58-deprecation",title:"CB58 Deprecation in LuxGo API",description:"Overview",source:"@site/docs/apis/luxd/cb58-deprecation.md",sourceDirName:"apis/luxd",slug:"/apis/luxd/cb58-deprecation",permalink:"/apis/luxd/cb58-deprecation",draft:!1,editUrl:"https://github.com/luxdefi/network-docs/edit/main/docs/apis/luxd/cb58-deprecation.md",tags:[],version:"current",frontMatter:{},sidebar:"apis",previous:{title:"Release Notes",permalink:"/apis/luxd/luxd-release-notes"},next:{title:"LuxJS Overview",permalink:"/apis/luxjs/"}},s={},d=[{value:"Overview",id:"overview",level:2},{value:"Affected APIs",id:"affected-apis",level:2},{value:"X-Chain API",id:"x-chain-api",level:3},{value:"P-Chain API",id:"p-chain-api",level:3},{value:"C-Chain API",id:"c-chain-api",level:3},{value:"Index API",id:"index-api",level:3},{value:"Keystore API",id:"keystore-api",level:3}],u={toc:d};function f(e){var a=e.components,t=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"cb58-deprecation-in-luxgo-api"},"CB58 Deprecation in LuxGo API"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"With ",(0,r.kt)("a",{parentName:"p",href:"/apis/luxd/luxd-release-notes#v1714-view-on-github"},"LuxGo v1.7.14 release"),", we have published changes to deprecate ",(0,r.kt)("inlineCode",{parentName:"p"},"cb58")," encoding in favor of ",(0,r.kt)("inlineCode",{parentName:"p"},"hex")," in the return of LuxGo API calls. This only impacted the encoding format for data with variable length representations (such as UTXOs, transactions, blocks, etc). Other data represented using ",(0,r.kt)("inlineCode",{parentName:"p"},"cb58")," such as addresses and IDs (txIDs, chainIDs, subnetIDs, and utxoIDs) are unchanged."),(0,r.kt)("p",null,"Our ",(0,r.kt)("a",{parentName:"p",href:"/apis/luxd/apis/"},"LuxGo API documents")," and ",(0,r.kt)("a",{parentName:"p",href:"/apis/luxd/public-api-server"},"public API servers")," have been updated to reflect this change: ",(0,r.kt)("inlineCode",{parentName:"p"},"hex")," is now the default value for the ",(0,r.kt)("inlineCode",{parentName:"p"},"encoding")," parameter in places where ",(0,r.kt)("inlineCode",{parentName:"p"},"cb58")," used to be default."),(0,r.kt)("p",null,"You will need to change your code to handle the response correctly. For example, for API call ",(0,r.kt)("a",{parentName:"p",href:"/apis/luxd/apis/x-chain#avmgetutxos"},(0,r.kt)("inlineCode",{parentName:"a"},"avm.getUTXOs"))," in which"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"encoding")," sets the format for the returned UTXOs.")),(0,r.kt)("p",null,"you can specify ",(0,r.kt)("inlineCode",{parentName:"p"},'"encoding": "hex"')," when issuing the API call or leave it empty which will take the default value of ",(0,r.kt)("inlineCode",{parentName:"p"},"hex"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'curl -X POST --data \'{\n    "jsonrpc":"2.0",\n    "id"     :1,\n    "method" :"avm.getUTXOs",\n    "params" :{\n        "addresses":["X-lux18jma8ppw3nhx5r4ap8clazz0dps7rv5ukulre5", "X-lux1d09qn852zcy03sfc9hay2llmn9hsgnw4tp3dv6"],\n        "limit":5,\n        "encoding": "hex"\n    }\n}\' -H \'content-type:application/json;\' 127.0.0.1:9650/ext/bc/X\n')),(0,r.kt)("p",null,"This gives response where utxos will be in ",(0,r.kt)("inlineCode",{parentName:"p"},"hex")," format:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "jsonrpc": "2.0",\n  "result": {\n    "numFetched": "5",\n    "utxos": [\n      "0x0000a195046108a85e60f7a864bb567745a37f50c6af282103e47cc62f036cee404700000000345aa98e8a990f4101e2268fab4c4e1f731c8dfbcffa3a77978686e6390d624f000000070000000000000001000000000000000000000001000000018ba98dabaebcd83056799841cfbc567d8b10f216c1f01765",\n      "0x0000ae8b1b94444eed8de9a81b1222f00f1b4133330add23d8ac288bffa98b85271100000000345aa98e8a990f4101e2268fab4c4e1f731c8dfbcffa3a77978686e6390d624f000000070000000000000001000000000000000000000001000000018ba98dabaebcd83056799841cfbc567d8b10f216473d042a",\n      "0x0000731ce04b1feefa9f4291d869adc30a33463f315491e164d89be7d6d2d7890cfc00000000345aa98e8a990f4101e2268fab4c4e1f731c8dfbcffa3a77978686e6390d624f000000070000000000000001000000000000000000000001000000018ba98dabaebcd83056799841cfbc567d8b10f21600dd3047",\n      "0x0000b462030cc4734f24c0bc224cf0d16ee452ea6b67615517caffead123ab4fbf1500000000345aa98e8a990f4101e2268fab4c4e1f731c8dfbcffa3a77978686e6390d624f000000070000000000000001000000000000000000000001000000018ba98dabaebcd83056799841cfbc567d8b10f216c71b387e",\n      "0x000054f6826c39bc957c0c6d44b70f961a994898999179cc32d21eb09c1908d7167b00000000345aa98e8a990f4101e2268fab4c4e1f731c8dfbcffa3a77978686e6390d624f000000070000000000000001000000000000000000000001000000018ba98dabaebcd83056799841cfbc567d8b10f2166290e79d"\n    ],\n    "endIndex": {\n      "address": "X-lux18jma8ppw3nhx5r4ap8clazz0dps7rv5ukulre5",\n      "utxo": "kbUThAUfmBXUmRgTpgD6r3nLj7rJUGho6xyht5nouNNypH45j"\n    },\n    "encoding": "hex"\n  },\n  "id": 1\n}\n')),(0,r.kt)("p",null,"You can also use ",(0,r.kt)("inlineCode",{parentName:"p"},"json")," if the api supports it."),(0,r.kt)("h2",{id:"affected-apis"},"Affected APIs"),(0,r.kt)("p",null,"Following APIs are affected with this change."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"When going through this API list, please make sure to check the omitted/default encoding parameter. Prior to LuxGo v1.7.14, by default, ",(0,r.kt)("inlineCode",{parentName:"p"},"cb58")," is used for the ",(0,r.kt)("inlineCode",{parentName:"p"},"encoding")," parameter if not specified in these APIs. With LuxGo v1.7.14 and forward, ",(0,r.kt)("inlineCode",{parentName:"p"},"hex")," is default.")),(0,r.kt)("h3",{id:"x-chain-api"},"X-Chain API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/x-chain#avmbuildgenesis"},"avm.buildGenesis")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/x-chain#avmmintnft"},"avm.mintNFT")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/x-chain#avmgettx"},"avm.getTx")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/x-chain#avmgetutxos"},"avm.getUTXOs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/x-chain#avmissuetx"},"avm.issueTx")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/x-chain#walletissuetx"},"wallet.issueTx"))),(0,r.kt)("h3",{id:"p-chain-api"},"P-Chain API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/p-chain#platformcreateblockchain"},"platform.createBlockchain")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/p-chain#platformgetblock"},"platform.getBlock")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/p-chain#platformgetrewardutxos"},"platform.getRewardUTXOs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/p-chain#platformgettx"},"platform.getTx")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/p-chain#platformgetutxos"},"platform.getUTXOs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/p-chain#platformissuetx"},"platform.issueTx"))),(0,r.kt)("h3",{id:"c-chain-api"},"C-Chain API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/c-chain#luxgetatomictx"},"lux.getAtomicTx")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/c-chain#luxgetutxos"},"lux.getUTXOs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/c-chain#luxissuetx"},"lux.issueTx"))),(0,r.kt)("h3",{id:"index-api"},"Index API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/index-api#indexgetlastaccepted"},"index.getLastAccepted")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/index-api#indexgetcontainerbyindex"},"index.getContainerByIndex")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/index-api#indexgetcontainerbyindex"},"index.getContainerByID")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/index-api#indexgetcontainerrange"},"index.getContainerRange")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/index-api#indexgetindex"},"index.getIndex")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/index-api#indexisaccepted"},"index.isAccepted"))),(0,r.kt)("h3",{id:"keystore-api"},"Keystore API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/keystore#keystoreexportuser"},"keystore.exportUser")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/keystore#keystoreimportuser"},"keystore.importUser"))))}f.isMDXComponent=!0}}]);