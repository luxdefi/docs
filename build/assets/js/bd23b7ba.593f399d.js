"use strict";(self.webpackChunklux_docs=self.webpackChunklux_docs||[]).push([[4963],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return c}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=u(n),c=o,m=h["".concat(l,".").concat(c)]||h[c]||d[c]||i;return n?a.createElement(m,r(r({ref:t},p),{},{components:n})):a.createElement(m,r({ref:t},p))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var u=2;u<i;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6903:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return d}});var a=n(7462),o=n(3366),i=(n(7294),n(3905)),r=["components"],s={},l="Create an EVM Subnet on Fuji Testnet",u={unversionedId:"subnets/create-a-fuji-subnet",id:"subnets/create-a-fuji-subnet",title:"Create an EVM Subnet on Fuji Testnet",description:"This document has been updated using the new Lux-CLI to deploy a Subnet on Fuji. If you are looking for the previous version using Subnet-CLI, please click here.",source:"@site/docs/subnets/create-a-fuji-subnet.md",sourceDirName:"subnets",slug:"/subnets/create-a-fuji-subnet",permalink:"/subnets/create-a-fuji-subnet",draft:!1,editUrl:"https://github.com/luxdefi/network-docs/edit/main/docs/subnets/create-a-fuji-subnet.md",tags:[],version:"current",frontMatter:{},sidebar:"subnets",previous:{title:"Create an EVM Subnet on a Local Network",permalink:"/subnets/create-a-local-subnet"},next:{title:"Deploying Subnets on Production Infrastructure",permalink:"/subnets/deploying-subnets-on-prod"}},p={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Virtual Machine",id:"virtual-machine",level:2},{value:"Fuji Testnet",id:"fuji-testnet",level:2},{value:"Lux-CLI",id:"lux-cli",level:2},{value:"Private Key",id:"private-key",level:3},{value:"Funding the key",id:"funding-the-key",level:4},{value:"Create an EVM Subnet",id:"create-an-evm-subnet",level:2},{value:"Deploy the Subnet",id:"deploy-the-subnet",level:2},{value:"Add a Validator",id:"add-a-validator",level:2},{value:"Join a Subnet",id:"join-a-subnet",level:2},{value:"Subnet Export",id:"subnet-export",level:2},{value:"Subnet Import",id:"subnet-import",level:2},{value:"Appendix",id:"appendix",level:2},{value:"Connect with MetaMask",id:"connect-with-metamask",level:3}],h={toc:d};function c(e){var t=e.components,n=(0,o.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"create-an-evm-subnet-on-fuji-testnet"},"Create an EVM Subnet on Fuji Testnet"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This document has been updated using the new Lux-CLI to deploy a Subnet on Fuji. If you are looking for the previous version using Subnet-CLI, please click ",(0,i.kt)("a",{parentName:"p",href:"/subnets/create-a-fuji-subnet-subnet-cli"},"here"),".")),(0,i.kt)("p",null,"After trying out a Subnet on a local box by following ",(0,i.kt)("a",{parentName:"p",href:"/subnets/create-a-local-subnet"},"this tutorial"),", next step is to try it out on Fuji Testnet."),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Lux CLI does not provide Ledger support yet, please don't try this tutorial on the Mainnet.")),(0,i.kt)("p",null,"In this article, we show how to do the following on Fuji Testnet."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create a Subnet."),(0,i.kt)("li",{parentName:"ul"},"Deploy a virtual machine based on Subnet-EVM."),(0,i.kt)("li",{parentName:"ul"},"Add a node as a validator to the Subnet."),(0,i.kt)("li",{parentName:"ul"},"Join a node to the newly created Subnet.")),(0,i.kt)("p",null,"All IDs in this article are for illustration purpose. They can be different in your own run-through of this tutorial."),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"1+ nodes running and fully bootstrapped on Fuji Testnet. Check out ",(0,i.kt)("a",{parentName:"li",href:"/nodes/"},"Nodes")," section on how to run a node and become a validator."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/luxdefi/lux-cli"},(0,i.kt)("inlineCode",{parentName:"a"},"Lux-CLI"))," installed")),(0,i.kt)("h2",{id:"virtual-machine"},"Virtual Machine"),(0,i.kt)("p",null,"Lux is a network composed of multiple blockchains. Each blockchain is an instance of a ",(0,i.kt)("a",{parentName:"p",href:"/subnets/#virtual-machines"},"Virtual Machine (VM)"),", much like an object in an object-oriented language is an instance of a class.\nThat is, the VM defines the behavior of the blockchain."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/luxdefi/subnet-evm"},"Subnet-EVM")," is the VM that defines the Subnet Contract Chains. Subnet-EVM is a simplified version of ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/luxdefi/coreth"},"Lux C-Chain"),"."),(0,i.kt)("p",null,"This chain implements the Ethereum Virtual Machine and supports Solidity smart contracts as well as most other Ethereum client functionality."),(0,i.kt)("h2",{id:"fuji-testnet"},"Fuji Testnet"),(0,i.kt)("p",null,"For this tutorial, we recommend that you follow ",(0,i.kt)("a",{parentName:"p",href:"/nodes/build/run-lux-node-manually#connect-to-Fuji-testnet"},"Run an Lux Node Manually")," and this step particularly to start your node on Fuji:"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"To connect to the Fuji Testnet instead of the main net, use argument ",(0,i.kt)("inlineCode",{parentName:"em"},"--network-id=Fuji"))),(0,i.kt)("p",null,"To get the NodeID of this Fuji node, call the following curl command to ",(0,i.kt)("a",{parentName:"p",href:"/apis/luxd/apis/info#infogetnodeid"},"info.getNodeID"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},'curl -X POST --data \'{\n    "jsonrpc":"2.0",\n    "id"     :1,\n    "method" :"info.getNodeID"\n}\' -H \'content-type:application/json;\' 127.0.0.1:9650/ext/info\n')),(0,i.kt)("p",null,"The response should look something like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "jsonrpc": "2.0",\n  "result": {\n    "nodeID": "NodeID-5mb46qkSBj81k9g9e4VFjGGSbaaSLFRzD"\n  },\n  "id": 1\n}\n')),(0,i.kt)("p",null,"That portion that says, ",(0,i.kt)("inlineCode",{parentName:"p"},"NodeID-5mb46qkSBj81k9g9e4VFjGGSbaaSLFRzD")," is the NodeID, the entire thing. We will need this id in the later section when calling ",(0,i.kt)("a",{parentName:"p",href:"#add-a-validator"},"addValidator"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"With more data on Fuji testnet, it may take a while to bootstrap Fuji Testnet from scratch. You can use ",(0,i.kt)("a",{parentName:"p",href:"/nodes/maintain/chain-config-flags#state-sync-enabled-boolean"},"State-Sync")," to shorten the time for bootstrapping.")),(0,i.kt)("h2",{id:"lux-cli"},"Lux-CLI"),(0,i.kt)("p",null,"If not yet installed, install ",(0,i.kt)("inlineCode",{parentName:"p"},"Lux-CLI")," following the tutorial at ",(0,i.kt)("a",{parentName:"p",href:"/subnets/create-a-local-subnet#installation"},"Lux-CLI installation")),(0,i.kt)("h3",{id:"private-key"},"Private Key"),(0,i.kt)("p",null,"All commands which issue a transaction require a private key loaded into the tool.\n",(0,i.kt)("inlineCode",{parentName:"p"},"Lux-CLI")," supports the following key operations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"create"),(0,i.kt)("li",{parentName:"ul"},"delete"),(0,i.kt)("li",{parentName:"ul"},"export"),(0,i.kt)("li",{parentName:"ul"},"list")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"The private key created for this tutorial should only be used for testing operations on ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji")," or other testnets. Do NOT use this key on ",(0,i.kt)("inlineCode",{parentName:"p"},"Mainnet"),". The key will be stored on your file system. Whoever gets access to that key will have access to any funds secured by that private key. In a future release, ",(0,i.kt)("inlineCode",{parentName:"p"},"Lux-CLI")," will integrate with Ledger and support ",(0,i.kt)("inlineCode",{parentName:"p"},"Mainnet")," operations.")),(0,i.kt)("p",null,"Run ",(0,i.kt)("inlineCode",{parentName:"p"},"create")," if you don't have any private key available yet. You can create multiple named keys. Each command requiring a key will therefore require the appropriate key name you want to use."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux key create mytestkey\n")),(0,i.kt)("p",null,"This will generate a new key named ",(0,i.kt)("inlineCode",{parentName:"p"},"mytestkey"),". The command will then also print addresses associated with the key:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Generating new key...\nKey created\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n| KEY NAME  |             CHAIN             |                     ADDRESS                     |    NETWORK    |\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n| mytestkey | C-Chain (Ethereum hex format) | 0x86BB07a534ADF43786ECA5Dd34A97e3F96927e4F      | All           |\n+           +-------------------------------+-------------------------------------------------+---------------+\n|           | P-Chain (Bech32 format)       | P-custom1a3azftqvygc4tlqsdvd82wks2u7nx85rg7v8ta | Local Network |\n+           +                               +-------------------------------------------------+---------------+\n|           |                               | P-fuji1a3azftqvygc4tlqsdvd82wks2u7nx85rhk6zqh   | Fuji          |\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n")),(0,i.kt)("p",null,"The C-Chain address (",(0,i.kt)("inlineCode",{parentName:"p"},"0x86BB07a534ADF43786ECA5Dd34A97e3F96927e4F"),") is the one which can be used to fund your key from the ",(0,i.kt)("a",{parentName:"p",href:"https://faucet.lux.network/"},"faucet"),".\nThe command also prints P-Chain addresses for both the default local network and ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji"),". The latter (",(0,i.kt)("inlineCode",{parentName:"p"},"P-fuji1a3azftqvygc4tlqsdvd82wks2u7nx85rhk6zqh"),") is the one needed for this tutorial."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"delete")," command of course deletes a private key:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux key delete mytestkey\n")),(0,i.kt)("p",null,"Be careful though to always have a key available for commands involving transactions."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"export")," command will ",(0,i.kt)("strong",{parentName:"p"},"print your private key")," in hex format to STDOUT."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux key export mytestkey\n21940fbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb5f0b\n")),(0,i.kt)("p",null,"(this key is intentionally modified)."),(0,i.kt)("p",null,"You can also ",(0,i.kt)("strong",{parentName:"p"},"import")," a key by using the ",(0,i.kt)("inlineCode",{parentName:"p"},"--file")," flag with a path argument and also providing a name to it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux key create othertest --file /tmp/test.pk\nLoading user key...\nKey loaded\n")),(0,i.kt)("p",null,"Finally, the ",(0,i.kt)("inlineCode",{parentName:"p"},"list")," command will list all your keys in your system and their associated addresses (the keys are stored in a special directory on your file system, tampering with the directory will result in malfunction of the tool)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux key list\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n| KEY NAME  |             CHAIN             |                     ADDRESS                     |    NETWORK    |\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n| othertest | C-Chain (Ethereum hex format) | 0x36c83263e33f9e87BB98D3fEb54a01E35a3Fa735      | All           |\n+           +-------------------------------+-------------------------------------------------+---------------+\n|           | P-Chain (Bech32 format)       | P-custom1n5n4h99j3nx8hdrv50v8ll7aldm383nap6rh42 | Local Network |\n+           +                               +-------------------------------------------------+---------------+\n|           |                               | P-fuji1n5n4h99j3nx8hdrv50v8ll7aldm383na7j4j7q   | Fuji          |\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n| mytestkey | C-Chain (Ethereum hex format) | 0x86BB07a534ADF43786ECA5Dd34A97e3F96927e4F      | All           |\n+           +-------------------------------+-------------------------------------------------+---------------+\n|           | P-Chain (Bech32 format)       | P-custom1a3azftqvygc4tlqsdvd82wks2u7nx85rg7v8ta | Local Network |\n+           +                               +-------------------------------------------------+---------------+\n|           |                               | P-fuji1a3azftqvygc4tlqsdvd82wks2u7nx85rhk6zqh   | Fuji          |\n+-----------+-------------------------------+-------------------------------------------------+---------------+\n")),(0,i.kt)("h4",{id:"funding-the-key"},"Funding the key"),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"Do these steps only to follow this tutorial for Fuji addresses. To access the wallet for Mainnet, the use of a ledger device is strongly recommended.")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"A newly created key has no funds on it. Send funds via transfer to its correspondent addresses if you already have funds on a different address, or get it from the faucet at ",(0,i.kt)("a",{parentName:"p",href:"https://faucet.lux.network/"},"https://faucet.lux.network")," using your ",(0,i.kt)("strong",{parentName:"p"},"C-Chain address"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Export")," your key via the ",(0,i.kt)("inlineCode",{parentName:"p"},"lux key export"),' command, then paste the output when selecting "Private key" while accessing the ',(0,i.kt)("a",{parentName:"p",href:"https://wallet.lux.network"},"web wallet"),". (Private Key is the first option on the ",(0,i.kt)("a",{parentName:"p",href:"https://wallet.lux.network"},"web wallet"),").")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Move the test funds from the C-Chain to the P-Chain by clicking on the ",(0,i.kt)("inlineCode",{parentName:"p"},"Cross Chain")," on the left side of the web wallet (more details can be found on the ",(0,i.kt)("a",{parentName:"p",href:"https://support.lux.network/en/articles/6169872-how-to-make-a-cross-chain-transfer-in-the-lux-wallet"},"this tutorial"),")."))),(0,i.kt)("p",null,"After following these 3 steps, your test key should now have a balance on the P-Chain on Fuji Testnet."),(0,i.kt)("h2",{id:"create-an-evm-subnet"},"Create an EVM Subnet"),(0,i.kt)("p",null,"Creating a Subnet with ",(0,i.kt)("inlineCode",{parentName:"p"},"Lux-CLI")," for ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji")," works the same way as with a ",(0,i.kt)("a",{parentName:"p",href:"./create-a-local-subnet#create-a-custom-subnet-configuration"},"local network"),". In fact, the ",(0,i.kt)("inlineCode",{parentName:"p"},"create")," commands only creates a specification of your Subnet on the local file system. Afterwards the Subnet needs to be ",(0,i.kt)("em",{parentName:"p"},"deployed"),". This in fact allows to reuse configs, by creating the config with the ",(0,i.kt)("inlineCode",{parentName:"p"},"create")," command, then first deploying to a local network and successively to ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji")," - and eventually to Mainnet."),(0,i.kt)("p",null,"To create an EVM subnet, run the ",(0,i.kt)("inlineCode",{parentName:"p"},"subnet create")," command with a name of your choice:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet create testsubnet\n")),(0,i.kt)("p",null,"This will start a series of prompts to customize your EVM Subnet to your needs. Most prompts have some validation to reduce issues due to invalid input.\nThe first prompt asks for the type of the virtual machine (see ",(0,i.kt)("a",{parentName:"p",href:"#virtual-machine"},"Virtual Machine"),")."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Choose your VM:\n  \u25b8 SubnetEVM\n    Custom\n")),(0,i.kt)("p",null,"As we are creating an EVM subnet, we can accept the default ",(0,i.kt)("inlineCode",{parentName:"p"},"SubnetEVM"),".\nNext, we are asked for a Chain ID. You should provide your own ID. Check ",(0,i.kt)("a",{parentName:"p",href:"https://chainlist.org/"},"chainlist.org")," to see if the value you'd like is already in use."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 SubnetEVM\ncreating subnet testsubnet\nEnter your subnet's ChainId. It can be any positive integer.\nChainId: 3333\n")),(0,i.kt)("p",null,"Now, we provide a symbol (of your choice) for the token of this EVM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Select a symbol for your subnet's native token\nToken symbol: TST\n")),(0,i.kt)("p",null,"At this point, the user is prompted for the fee structure of the Subnet, so that fees can be tuned to the needs:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? How would you like to set fees:\n  \u25b8 Low disk use    / Low Throughput    1.5 mil gas/s (C-Chain's setting)\n    Medium disk use / Medium Throughput 2 mil   gas/s\n    High disk use   / High Throughput   5 mil   gas/s\n    Customize fee config\n    Go back to previous step\n")),(0,i.kt)("p",null,"You can navigate with the arrow keys to select the suitable setting. Let's assume ",(0,i.kt)("inlineCode",{parentName:"p"},"Low disk use / Low Throughput 1.5 mil gas/s")," for this tutorial."),(0,i.kt)("p",null,"The next question is about the airdrop:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Low disk use    / Low Throughput    1.5 mil gas/s\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? How would you like to distribute funds:\n  \u25b8 Airdrop 1 million tokens to the default address (do not use in production)\n    Customize your airdrop\n    Go back to previous step\n")),(0,i.kt)("p",null,"You can accept the default (again, NOT for production), or customize your airdrop. In the latter case the wizard would continue. Let's assume the default here."),(0,i.kt)("p",null,"The final question is asking for precompiles. Precompiles are powerful customizations of your EVM. Read about them at ",(0,i.kt)("a",{parentName:"p",href:"./customize-a-subnet#precompiles"},"precompiles"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Airdrop 1 million tokens to the default address (do not use in production)\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Advanced: Would you like to add a custom precompile to modify the EVM?:\n  \u25b8 No\n    Yes\n    Go back to previous step\n")),(0,i.kt)("p",null,"For this tutorial, let's assume the simple case of no additional precompile. This finalizes the prompt sequence and the command exits:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 No\nSuccessfully created genesis\n")),(0,i.kt)("p",null,"It's possible to abort the process with Ctrl-C at any time."),(0,i.kt)("p",null,"At this point, the specification of the new Subnet is created on disk, but is not deployed yet."),(0,i.kt)("p",null,"We can print the specification to disk by running the ",(0,i.kt)("inlineCode",{parentName:"p"},"describe")," command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet describe testsubnet\n _____       _        _ _\n|  __ \\     | |      (_) |\n| |  | | ___| |_ __ _ _| |___\n| |  | |/ _ \\ __/ _  | | / __|\n| |__| |  __/ || (_| | | \\__ \\\n|_____/ \\___|\\__\\__,_|_|_|___/\n+-------------+------------+\n|  PARAMETER  |   VALUE    |\n+-------------+------------+\n| Subnet Name | testsubnet |\n+-------------+------------+\n| ChainID     | 3333       |\n+-------------+------------+\n| Token Name  | TST        |\n+-------------+------------+\n\n  _____              _____             __ _\n / ____|            / ____|           / _(_)\n| |  __  __ _ ___  | |     ___  _ __ | |_ _  __ _\n| | |_ |/ _  / __| | |    / _ \\| '_ \\|  _| |/ _  |\n| |__| | (_| \\__ \\ | |___| (_) | | | | | | | (_| |\n \\_____|\\__,_|___/  \\_____\\___/|_| |_|_| |_|\\__, |\n                                             __/ |\n                                            |___/\n+--------------------------+-------------+\n|      GAS PARAMETER       |    VALUE    |\n+--------------------------+-------------+\n| GasLimit                 |     8000000 |\n+--------------------------+-------------+\n| MinBaseFee               | 25000000000 |\n+--------------------------+-------------+\n| TargetGas (per 10s)      |    20000000 |\n+--------------------------+-------------+\n| BaseFeeChangeDenominator |          36 |\n+--------------------------+-------------+\n| MinBlockGasCost          |           0 |\n+--------------------------+-------------+\n| MaxBlockGasCost          |     1000000 |\n+--------------------------+-------------+\n| TargetBlockRate          |           2 |\n+--------------------------+-------------+\n| BlockGasCostStep         |      200000 |\n+--------------------------+-------------+\n\n          _         _\n    /\\   (_)       | |\n   /  \\   _ _ __ __| |_ __ ___  _ __\n  / /\\ \\ | | '__/ _  | '__/ _ \\| '_ \\\n / ____ \\| | | | (_| | | | (_) | |_) |\n/_/    \\_\\_|_|  \\__,_|_|  \\___/| .__/\n                               | |\n                               |_|\n+--------------------------------------------+------------------------+---------------------------+\n|                  ADDRESS                   | AIRDROP AMOUNT (10^18) |   AIRDROP AMOUNT (WEI)    |\n+--------------------------------------------+------------------------+---------------------------+\n| 0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC |                1000000 | 1000000000000000000000000 |\n+--------------------------------------------+------------------------+---------------------------+\n\n\n  _____                                    _ _\n |  __ \\                                  (_) |\n | |__) | __ ___  ___ ___  _ __ ___  _ __  _| | ___  ___\n |  ___/ '__/ _ \\/ __/ _ \\| '_   _ \\| '_ \\| | |/ _ \\/ __|\n | |   | | |  __/ (_| (_) | | | | | | |_) | | |  __/\\__ \\\n |_|   |_|  \\___|\\___\\___/|_| |_| |_| .__/|_|_|\\___||___/\n                                    | |\n                                    |_|\n\nNo precompiles set\n")),(0,i.kt)("p",null,"We can also list the available subnets:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet list\ngo run main.go subnet list\n+------------+------------+----------+-----------+----------+\n|   SUBNET   |   CHAIN    | CHAIN ID |   TYPE    | DEPLOYED |\n+------------+------------+----------+-----------+----------+\n| testsubnet | testsubnet |     3333 | SubnetEVM | No       |\n+------------+------------+----------+-----------+----------+\n")),(0,i.kt)("h2",{id:"deploy-the-subnet"},"Deploy the Subnet"),(0,i.kt)("p",null,"To deploy our new subnet, we can run"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet deploy testsubnet\n")),(0,i.kt)("p",null,"This will start a new prompt series."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Choose a network to deploy on:\n  \u25b8 Local Network\n    Fuji\n    Mainnet\n")),(0,i.kt)("p",null,"This tutorial is about deploying to ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji"),", so we navigate with the arrow keys to ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji")," and hit enter.\nWe are then asked to provide which private key to use for the deployment. The deployment basically consists in running a ",(0,i.kt)("a",{parentName:"p",href:"/apis/luxd/apis/p-chain#platformcreatesubnet"},"createSubnet transaction"),". Therefore the key needs to be funded."),(0,i.kt)("p",null,"Also, this tutorial assumes that a node is up running, fully bootstrapped on ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji"),", and is being run from the ",(0,i.kt)("strong",{parentName:"p"},"same")," box."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Fuji\nDeploying [testsubnet] to Fuji\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Which private key should be used to issue the transaction?:\n    test\n  \u25b8 mytestkey\n")),(0,i.kt)("p",null,"Subnets are currently permissioned only. Therefore, the process now requires the user to provide ",(0,i.kt)("em",{parentName:"p"},"which keys can control the subnet"),". We are prompted to provide one or more ",(0,i.kt)("strong",{parentName:"p"},"P-Chain addresses"),". Only the keys corresponding to these addresses will be able to add or remove validators. Make sure to provide ",(0,i.kt)("strong",{parentName:"p"},"Fuji P-Chain")," addresses (",(0,i.kt)("inlineCode",{parentName:"p"},"P-Fuji...."),")."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Configure which addresses may add new validators to the subnet.\nThese addresses are known as your control keys. You will also\nset how many control keys are required to add a validator.\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Set control keys:\n  \u25b8 Add control key\n    Done\n    Cancel\n")),(0,i.kt)("p",null,"Enter at ",(0,i.kt)("inlineCode",{parentName:"p"},"Add control key")," and provide at least one key. You can enter multiple addresses, we'll use just one here. When no more addresses need to be added, hit ",(0,i.kt)("inlineCode",{parentName:"p"},"Done"),".\n(The address provided here is intentionally invalid. The address has a checksum and the tool will make sure it's a valid address)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Add control key\nEnter P-Chain address (Ex: `P-...`): P-fuji1vaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaasz\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Set control keys:\n    Add control key\n  \u25b8 Done\n    Cancel\n")),(0,i.kt)("p",null,"Finally, we need to define the threshold of how many keys are required for a change to be valid (there is some input validation). For example, if 1 key only is needed, as above, we'll enter just 1. The threshold ",(0,i.kt)("em",{parentName:"p"},"could")," be arbitrary depending on the needs, e.g. 2 of 4 addresses, 1 of 3, 3 of 5, etc., but currently this tool only works if ",(0,i.kt)("em",{parentName:"p"},"at least one control key is owned by the same private key used here and the threshold is set to 1"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Enter required number of control key signatures to add a validator: 1\n")),(0,i.kt)("p",null,"Here the wizard completes, and the transaction is attempted."),(0,i.kt)("p",null,"If the private key is not funded or does not have enough funds, we'll get an error message:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'Error: insufficient funds: provided UTXOs need 100000000 more units of asset "U8iRqJoiJm8xZHAacmvYyZVwqQx6uDNtQeP3CQ6fcgQk3JqnK"\n')),(0,i.kt)("p",null,"If the private key is funded, but the ",(0,i.kt)("strong",{parentName:"p"},"control key")," is incorrect (not controlled by the private key), the Subnet will be created, but ",(0,i.kt)("em",{parentName:"p"},"not the blockchain"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Subnet has been created with ID: 2EkPnvnDiLgudnf8NjtxaNcVFtdAAnUPvaoNBrc9WG5tNmmfaK. Now creating blockchain...\nError: insufficient authorization\n")),(0,i.kt)("p",null,"Therefore we need to provide a control key which we have indeed control of, and then it succeeds. The output (assuming the node is running on ",(0,i.kt)("inlineCode",{parentName:"p"},"localhost")," and the API port is set to standard ",(0,i.kt)("inlineCode",{parentName:"p"},"9650"),") will look something like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'Subnet has been created with ID: 2b175hLJhGdj3CzgXENso9CmwMgejaCQXhMFzBsm8hXbH2MF7H. Now creating blockchain...\nEndpoint for blockchain "2XDnKyAEr1RhhWpTpMXqrjeejN23vETmDykVzkb4PrU1fQjewh" with VM ID "tGBrMADESojmu5Et9CpbGCrmVf9fiAJtZM5ZJ3YVDj5JTu2qw": http://127.0.0.1:9650/ext/bc/2XDnKyAEr1RhhWpTpMXqrjeejN23vETmDykVzkb4PrU1fQjewh/rpc\n')),(0,i.kt)("p",null,"Well done! You have just created your own Subnet with your own Subnet EVM running on ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji"),"!"),(0,i.kt)("p",null,"To check on your new subnet, visit ",(0,i.kt)("a",{parentName:"p",href:"https://testnet.luxscan.io/"},"Luxscan testnet"),". The search best works by blockchain ID, so in this example, enter ",(0,i.kt)("inlineCode",{parentName:"p"},"2XDnKyAEr1RhhWpTpMXqrjeejN23vETmDykVzkb4PrU1fQjewh")," into the search box and you should see your shiny new blockchain information."),(0,i.kt)("h2",{id:"add-a-validator"},"Add a Validator"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Adding a validator on a Subnet requires that the node is already a validator on the primary network, which means that your node has ",(0,i.kt)("strong",{parentName:"p"},"fully bootstrapped"),"."),(0,i.kt)("p",{parentName:"admonition"},"See ",(0,i.kt)("a",{parentName:"p",href:"/nodes/validate/add-a-validator#add-a-validator-with-lux-wallet"},"here")," on how to become a validator.")),(0,i.kt)("p",null,"This new Subnet is cool - but it doesn't have any dedicated validators yet! Let's add one by running the ",(0,i.kt)("inlineCode",{parentName:"p"},"addValidator")," command and adding the name of our subnet. To be clear, this does ",(0,i.kt)("em",{parentName:"p"},"not start or run")," a validator, it only whitelists the node as a recognized validator on the subnet."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet addValidator testsubnet\n")),(0,i.kt)("p",null,"As this operation involves a new ",(0,i.kt)("a",{parentName:"p",href:"/apis/luxd/apis/p-chain#platformaddsubnetvalidator"},"transaction"),", we need to tell the tool which private key to use:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Which private key should be used to issue the transaction?:\n    test\n  \u25b8 mytestkey\n")),(0,i.kt)("p",null,"We are here a bit ahead of our time, the tool announces Mainnet support. Just choose ",(0,i.kt)("inlineCode",{parentName:"p"},"Fuji"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Choose a network to deploy on. This command only supports Fuji currently.:\n  \u25b8 Fuji\n    Mainnet (coming soon)\n")),(0,i.kt)("p",null,"Now we need the ",(0,i.kt)("strong",{parentName:"p"},"NodeID")," of our new validator from the very beginning of this tutorial. For best results make sure the validator is running and synced."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"What is the NodeID of the validator you'd like to whitelist?: NodeID-BFa1paAAAAAAAAAAAAAAAAAAAAQGjPhUy\n")),(0,i.kt)("p",null,"(this ID is intentionally modified)"),(0,i.kt)("p",null,"The next question requires a bit of thinking. A validator has a weight, which defines how often it will be selected for decision making. You should think ahead of how many validators you want initially to identify a good value here. The range is 1 to 100, but the minimum for a Subnet without any validators yet is 20. The structure is a bit described at ",(0,i.kt)("a",{parentName:"p",href:"/apis/luxd/apis/p-chain#platformaddsubnetvalidator"},"addSubnetValidator")," under the ",(0,i.kt)("inlineCode",{parentName:"p"},"weight")," section."),(0,i.kt)("p",null,"We'll select 30 for this one:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? What stake weight would you like to assign to the validator?:\n    Default (20)\n  \u25b8 Custom\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 What stake weight would you like to assign to the validator?: 30\n")),(0,i.kt)("p",null,"We then need to specify when the validator will start validating. The time must be in the future. Custom will require to enter a specific date in 'YYYY-MM-DD HH:MM:SS' format. Let's take the default this time:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Use the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Start time:\n  \u25b8 Start in one minute\n    Custom\n")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"If the ",(0,i.kt)("inlineCode",{parentName:"p"},"join")," command is not successfully completed before this time elapses and the validator's stake weight is >20% of the subnet, the Subnet may have down time.")),(0,i.kt)("p",null,"Finally, specify how long it will be validating:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Start in one minute\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? How long should your validator validate for?:\n  \u25b8 Until primary network validator expires\n    Custom\n")),(0,i.kt)("p",null,"If we choose ",(0,i.kt)("inlineCode",{parentName:"p"},"Custom")," here, we'll have to enter a ",(0,i.kt)("strong",{parentName:"p"},"duration"),", which is a time span expressed in hours. For example, we could say 200 days = 24 ","*"," 200 = 4800h"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 How long should this validator be validating? Enter a duration, e.g. 8760h: 4800h\n")),(0,i.kt)("p",null,"The user is shown an actual date of when that is now:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"? Your validator will finish staking by 2023-02-13 12:26:55:\n  \u25b8 Yes\n    No\n")),(0,i.kt)("p",null,"Confirm if correct. At this point the prompt series is complete and the transaction is attempted:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"NodeID: NodeID-BFa1padLXBj7VHa2JYvYGzcTBPQGjPhUy\nNetwork: Fuji\nStart time: 2022-07-28 12:26:55\nEnd time: 2023-02-13 12:26:55\nWeight: 30\nInputs complete, issuing transaction to add the provided validator information...\n")),(0,i.kt)("p",null,"This might take a couple of seconds, and if successful, it will print:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Transaction successful, transaction ID :EhZh8PvQyqA9xggxn6EsdemXMnWKyy839NzEJ5DHExTBiXbjV\n")),(0,i.kt)("p",null,"This means the node has now been added as validator to the given Subnet on Fuji!"),(0,i.kt)("h2",{id:"join-a-subnet"},"Join a Subnet"),(0,i.kt)("p",null,"You might already have a running validator which you want to add to a specific subnet. For this we run the ",(0,i.kt)("inlineCode",{parentName:"p"},"join")," command.\nThis is a bit of a special command. The ",(0,i.kt)("inlineCode",{parentName:"p"},"join")," command will either just ",(0,i.kt)("em",{parentName:"p"},"print the required instructions")," for your already running node or will attempt at configuring a config file the user provides."),(0,i.kt)("p",null,'First also a bit of "marketing" (announcing not yet available Mainnet support):'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet join testsubnet\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Choose a network to validate on (this command only supports public networks):\n  \u25b8 Fuji\n    Mainnet\n")),(0,i.kt)("p",null,"In the ",(0,i.kt)("a",{parentName:"p",href:"#deploy-the-subnet"},"deploy the subnet")," section, we saw that a Subnet is permissioned via a set of keys. Therefore not any node can be added as validator to the subnet. A holder of a control key ",(0,i.kt)("em",{parentName:"p"},"must")," call ",(0,i.kt)("a",{parentName:"p",href:"/apis/luxd/apis/p-chain#platformaddsubnetvalidator"},"subnet addValidator"),' first in order to allow the node to validate the subnet. So the tool allows the user now to verify if the node has already been permissioned ("whitelisted") to be a validator for this Subnet (by calling an API in the background).'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"Would you like to check if your node is allowed to join this subnet?\nIf not, the subnet's control key holder must call lux subnet\naddValidator with your NodeID.\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Check whitelist?:\n    Yes\n  \u25b8 No\n")),(0,i.kt)("p",null,"The default is ",(0,i.kt)("inlineCode",{parentName:"p"},"Yes")," but we'll choose ",(0,i.kt)("inlineCode",{parentName:"p"},"No")," here to speed up things, assuming the node is already whitelisted."),(0,i.kt)("p",null,'There are now two choices possible: Automatic and Manual configuration. As mentioned earlier, "Automatic" will attempt at editing a config file and setting up your plugin directory, while "Manual" will just print the required config to the screen. Let\'s see what "Automatic" does:'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Automatic\n\u2714 Path to your existing config file (or where it will be generated): config.json\n")),(0,i.kt)("p",null,"We need to provide a path to a config file. If this command were to be run on the box where your validator is running, then you could point this to the actually used config file, e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/luxd/config.json")," - just make sure the tool has ",(0,i.kt)("strong",{parentName:"p"},"write")," access to the file. Or you could just copy the file later. In any case, the tool will either try to edit the existing file specified by the given path, or create a new file. Again, write permissions are required."),(0,i.kt)("p",null,"Next, we need to provide the plugin directory. We described VMs at the beginning of this tutorial ",(0,i.kt)("a",{parentName:"p",href:"#virtual-machine"},"Virtual Machine"),". Each VM runs its own plugin, therefore luxd needs to be able to access the correspondent plugin binary. As this is the ",(0,i.kt)("inlineCode",{parentName:"p"},"join")," command, which doesn't know yet about the plugin, we need to provide the directory where the plugin is installed. Make sure to provide the location for your case:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Path to your luxd plugin dir (likely luxd/build/plugins): /home/user/go/src/github.com/luxdefi/luxd/build/plugins\n")),(0,i.kt)("p",null,"The tool doesn't know where exactly it's located so it requires the full path. With the path given, it will copy the VM binary to the provided location:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u2714 Path to your luxd plugin dir (likely luxd/build/plugins): /home/user/go/src/github.com/luxdefi/luxd/build/plugins\u2588\nVM binary written to /home/user/go/src/github.com/luxdefi/luxd/build/plugins/tGBrMADESojmu5Et9CpbGCrmVf9fiAJtZM5ZJ3YVDj5JTu2qw\nThis will edit your existing config file. This edit is nondestructive,\nbut it's always good to have a backup.\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Proceed?:\n  \u25b8 Yes\n    No\n")),(0,i.kt)("p",null,"Hitting ",(0,i.kt)("inlineCode",{parentName:"p"},"Yes")," will attempt at writing the config file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u2714 Yes\nThe config file has been edited. To use it, make sure to start the node with the '--config-file' option, e.g.\n\n./build/luxd --config-file config.json\n\n(using your binary location). The node has to be restarted for the changes to take effect.\n")),(0,i.kt)("p",null,"It is ",(0,i.kt)("strong",{parentName:"p"},"required to restart the node"),"."),(0,i.kt)("p",null,'If we would have chosen "Manual" instead, the tool will just print ',(0,i.kt)("em",{parentName:"p"},"instructions"),". The user will have to follow these instructions and apply them to the node. Note that the IDs for the VM and subnets will be different in your case."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\u2714 Manual\n\nTo setup your node, you must do two things:\n\n1. Add your VM binary to your node's plugin directory\n2. Update your node config to start validating the subnet\n\nTo add the VM to your plugin directory, copy or scp from /tmp/tGBrMADESojmu5Et9CpbGCrmVf9fiAJtZM5ZJ3YVDj5JTu2qw\n\nIf you installed luxd manually, your plugin directory is likely\nluxd/build/plugins.\n\nIf you start your node from the command line WITHOUT a config file (e.g. via command\nline or systemd script), add the following flag to your node's startup command:\n\n--whitelisted-subnets=2b175hLJhGdj3CzgXENso9CmwMgejaCQXhMFzBsm8hXbH2MF7H\n(if the node already has a whitelisted-subnets config, append the new value by\ncomma-separating it).\n\nFor example:\n./build/luxd --network-id=Fuji --whitelisted-subnets=2b175hLJhGdj3CzgXENso9CmwMgejaCQXhMFzBsm8hXbH2MF7H\n\nIf you start the node via a JSON config file, add this to your config file:\nwhitelisted-subnets: 2b175hLJhGdj3CzgXENso9CmwMgejaCQXhMFzBsm8hXbH2MF7H\n\nTIP: Try this command with the --luxd-config flag pointing to your config file,\nthis tool will try to update the file automatically (make sure it can write to it).\n\nAfter you update your config, you will need to restart your node for the changes to\ntake effect.\n")),(0,i.kt)("h2",{id:"subnet-export"},"Subnet Export"),(0,i.kt)("p",null,"This tool is most useful on the machine where a validator is or will be running. In order to allow a VM to run on a different machine, the configuration can be exported. We just need to provide a path to where to export the data:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet export testsubnet\n\u2714 Enter file path to write export data to: /tmp/testsubnet-export.dat\n")),(0,i.kt)("p",null,"The file is in text format and it should not be tampered with. It can then be used to import the configuration on a different machine."),(0,i.kt)("h2",{id:"subnet-import"},"Subnet Import"),(0,i.kt)("p",null,"To import a VM specification exported in the previous section, just issue the ",(0,i.kt)("inlineCode",{parentName:"p"},"import")," command with the path to the file after having copied the file over:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet import /tmp/testsubnet-export.dat\nSubnet imported successfully\n")),(0,i.kt)("p",null,"After this the whole Subnet configuration should be available on the target machine:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"lux subnet list\n+---------------+---------------+----------+-----------+----------+\n|    SUBNET     |     CHAIN     | CHAIN ID |   TYPE    | DEPLOYED |\n+---------------+---------------+----------+-----------+----------+\n| testsubnet    | testsubnet    |     3333 | SubnetEVM | No       |\n+---------------+---------------+----------+-----------+----------+\n")),(0,i.kt)("h2",{id:"appendix"},"Appendix"),(0,i.kt)("h3",{id:"connect-with-metamask"},"Connect with MetaMask"),(0,i.kt)("p",null,"To connect Metamask with your blockchain on the new Subnet running on your local computer, you can add a new network on Metamask with the following values:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Network Name: testsubnet"),(0,i.kt)("li",{parentName:"ul"},"RPC URL: ",(0,i.kt)("a",{parentName:"li",href:"http://127.0.0.1:9650/ext/bc/2XDnKyAEr1RhhWpTpMXqrjeejN23vETmDykVzkb4PrU1fQjewh/rpc"},"http://127.0.0.1:9650/ext/bc/2XDnKyAEr1RhhWpTpMXqrjeejN23vETmDykVzkb4PrU1fQjewh/rpc")),(0,i.kt)("li",{parentName:"ul"},"Chain ID: 3333"),(0,i.kt)("li",{parentName:"ul"},"Symbol: TST")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Unless your Subnet has been deployed on other nodes, you will not be able to use other nodes, including the public API server ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.lux-test.network/"),", to connect to Metamask."),(0,i.kt)("p",{parentName:"admonition"},"If you want to open up this node for others to access your Subnet, you should set it up properly with ",(0,i.kt)("inlineCode",{parentName:"p"},"https//node-ip-address")," instead of ",(0,i.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:9650"),", however, it is out of scope for this tutorial on how to do that.")))}c.isMDXComponent=!0}}]);