"use strict";(self.webpackChunklux_docs=self.webpackChunklux_docs||[]).push([[7861],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),h=d(n),m=o,c=h["".concat(l,".").concat(m)]||h[m]||p[m]||r;return n?a.createElement(c,s(s({ref:t},u),{},{components:n})):a.createElement(c,s({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=h;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var d=2;d<r;d++)s[d]=n[d];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3899:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return i},metadata:function(){return d},toc:function(){return p}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),s=["components"],i={sidebar_position:3},l="Monitor an Lux Node",d={unversionedId:"nodes/maintain/setting-up-node-monitoring",id:"nodes/maintain/setting-up-node-monitoring",title:"Monitor an Lux Node",description:"Introduction",source:"@site/docs/nodes/maintain/setting-up-node-monitoring.md",sourceDirName:"nodes/maintain",slug:"/nodes/maintain/setting-up-node-monitoring",permalink:"/nodes/maintain/setting-up-node-monitoring",draft:!1,editUrl:"https://github.com/luxdefi/network-docs/edit/main/docs/nodes/maintain/setting-up-node-monitoring.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"nodes",previous:{title:"Upgrade Your Luxd Node",permalink:"/nodes/maintain/upgrade-your-luxd-node"},next:{title:"Luxd Config and Flags",permalink:"/nodes/maintain/luxd-config-flags"}},u={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Caveat: Security",id:"caveat-security",level:3},{value:"Monitoring Installer Script",id:"monitoring-installer-script",level:2},{value:'Step 1: Set up Prometheus <a id="prometheus"></a>',id:"step-1-set-up-prometheus-",level:2},{value:'Step 2: Install Grafana <a id="grafana"></a>',id:"step-2-install-grafana-",level:2},{value:'Step 3: Set up node_exporter <a id="exporter"></a>',id:"step-3-set-up-node_exporter-",level:2},{value:'Step 4: Dashboards <a id="dashboards"></a>',id:"step-4-dashboards-",level:2},{value:"Step 5: Additional Dashboards (optional)",id:"step-5-additional-dashboards-optional",level:2},{value:"Updating",id:"updating",level:2},{value:"Summary",id:"summary",level:2}],h={toc:p};function m(e){var t=e.components,i=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"monitor-an-lux-node"},"Monitor an Lux Node"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This tutorial will show how to set up infrastructure to monitor an instance of ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/luxdefi/luxd"},"Luxd"),". We will use:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://prometheus.io/"},"Prometheus")," to gather and store data"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/prometheus/node_exporter"},"node_exporter")," to get information about the machine,"),(0,r.kt)("li",{parentName:"ul"},"Luxd\u2019s ",(0,r.kt)("a",{parentName:"li",href:"/apis/luxd/apis/metrics"},"metrics API")," to get information about the node"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://grafana.com/"},"Grafana")," to visualize data on a dashboard."),(0,r.kt)("li",{parentName:"ul"},"A set of pre-made ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/luxdefi/lux-monitoring/tree/main/grafana/dashboards"},"Lux dashboards"))),(0,r.kt)("p",null,"Prerequisites:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A running Luxd node"),(0,r.kt)("li",{parentName:"ul"},"Shell access to the machine running the node"),(0,r.kt)("li",{parentName:"ul"},"Administrator privileges on the machine")),(0,r.kt)("p",null,"This tutorial assumes you have Ubuntu 18.04 or 20.04 running on your node. Other Linux flavors that use ",(0,r.kt)("inlineCode",{parentName:"p"},"systemd")," for running services and ",(0,r.kt)("inlineCode",{parentName:"p"},"apt-get")," for package management might work but have not been tested. Community member has reported it works on Debian 10, might work on other Debian releases as well."),(0,r.kt)("h3",{id:"caveat-security"},"Caveat: Security"),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"The system as described here ",(0,r.kt)("strong",{parentName:"p"},"should not")," be opened to the public internet. Neither Prometheus nor Grafana as shown here is hardened against unauthorized access. Make sure that both of them are accessible only over a secured proxy, local network, or VPN. Setting that up is beyond the scope of this tutorial, but exercise caution. Bad security practices could lead to attackers gaining control over your node! It is your responsibility to follow proper security practices.")),(0,r.kt)("h2",{id:"monitoring-installer-script"},"Monitoring Installer Script"),(0,r.kt)("p",null,"In order to make node monitoring easier to install, we have made a script that does most of the work for you. To download and run the script, log into the machine the node runs on with a user that has administrator privileges and enter the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"wget -nd -m https://raw.githubusercontent.com/luxdefi/lux-monitoring/main/grafana/monitoring-installer.sh ;\\\nchmod 755 monitoring-installer.sh;\n")),(0,r.kt)("p",null,"This will download the script and make it executable."),(0,r.kt)("p",null,"Script itself is run multiple times with different arguments, each installing a different tool or part of the environment. To make sure it downloaded and set up correctly, begin by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./monitoring-installer.sh --help\n")),(0,r.kt)("p",null,"It should display:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Usage: ./monitoring-installer.sh [--1|--2|--3|--4|--5|--help]\n\nOptions:\n--help   Shows this message\n--1      Step 1: Installs Prometheus\n--2      Step 2: Installs Grafana\n--3      Step 3: Installs node_exporter\n--4      Step 4: Installs Luxd Grafana dashboards\n--5      Step 5: (Optional) Installs additional dashboards\n\nRun without any options, script will download and install latest version of Luxd dashboards.\n")),(0,r.kt)("p",null,"Let's get to it."),(0,r.kt)("h2",{id:"step-1-set-up-prometheus-"},"Step 1: Set up Prometheus ",(0,r.kt)("a",{id:"prometheus"})),(0,r.kt)("p",null,"Run the script to execute the first step:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./monitoring-installer.sh --1\n")),(0,r.kt)("p",null,"It should produce output something like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'Luxd monitoring installer\n--------------------------------\nSTEP 1: Installing Prometheus\n\nChecking environment...\nFound arm64 architecture...\nPrometheus install archive found:\nhttps://github.com/prometheus/prometheus/releases/download/v2.31.0/prometheus-2.31.0.linux-arm64.tar.gz\nAttempting to download:\nhttps://github.com/prometheus/prometheus/releases/download/v2.31.0/prometheus-2.31.0.linux-arm64.tar.gz\nprometheus.tar.gz                           100%[=========================================================================================>]  65.11M   123MB/s    in 0.5s\n2021-11-05 14:16:11 URL:https://github-releases.githubusercontent.com/6838921/a215b0e7-df1f-402b-9541-a3ec9d431f76?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20211105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20211105T141610Z&X-Amz-Expires=300&X-Amz-Signature=72a8ae4c6b5cea962bb9cad242cb4478082594b484d6a519de58b8241b319d94&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=6838921&response-content-disposition=attachment%3B%20filename%3Dprometheus-2.31.0.linux-arm64.tar.gz&response-content-type=application%2Foctet-stream [68274531/68274531] -> "prometheus.tar.gz" [1]\n...\n')),(0,r.kt)("p",null,"You may be prompted to confirm additional package installs, do that if asked. Script run should end with instructions on how to check that Prometheus installed correctly. Let's do that, run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl status prometheus\n")),(0,r.kt)("p",null,"It should output something like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'\u25cf prometheus.service - Prometheus\nLoaded: loaded (/etc/systemd/system/prometheus.service; enabled; vendor preset: enabled)\nActive: active (running) since Fri 2021-11-12 11:38:32 UTC; 17min ago\nDocs: https://prometheus.io/docs/introduction/overview/\nMain PID: 548 (prometheus)\nTasks: 10 (limit: 9300)\nMemory: 95.6M\nCGroup: /system.slice/prometheus.service\n\u2514\u2500548 /usr/local/bin/prometheus --config.file=/etc/prometheus/prometheus.yml --storage.tsdb.path=/var/lib/prometheus --web.console.templates=/etc/prometheus/con>\n\nNov 12 11:38:33 ip-172-31-36-200 prometheus[548]: ts=2021-11-12T11:38:33.644Z caller=head.go:590 level=info component=tsdb msg="WAL segment loaded" segment=81 maxSegment=84\nNov 12 11:38:33 ip-172-31-36-200 prometheus[548]: ts=2021-11-12T11:38:33.773Z caller=head.go:590 level=info component=tsdb msg="WAL segment loaded" segment=82 maxSegment=84\n')),(0,r.kt)("p",null,"Note the ",(0,r.kt)("inlineCode",{parentName:"p"},"active (running)")," status (press ",(0,r.kt)("inlineCode",{parentName:"p"},"q")," to exit). You can also check Prometheus web interface, available on ",(0,r.kt)("inlineCode",{parentName:"p"},"http://your-node-host-ip:9090/")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"You may need to do ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo ufw allow 9090/tcp")," if the firewall is on, and/or adjust the security settings to allow connections to port 9090 if the node is running on a cloud instance. For AWS, you can look it up ",(0,r.kt)("a",{parentName:"p",href:"/nodes/build/setting-up-an-lux-node-with-amazon-web-services-aws#f8df"},"here"),". If on public internet, make sure to only allow your IP to connect!")),(0,r.kt)("p",null,"If everything is ok, let's move on."),(0,r.kt)("h2",{id:"step-2-install-grafana-"},"Step 2: Install Grafana ",(0,r.kt)("a",{id:"grafana"})),(0,r.kt)("p",null,"Run the script to execute the second step:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./monitoring-installer.sh --2\n")),(0,r.kt)("p",null,"It should produce output something like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Luxd monitoring installer\n--------------------------------\nSTEP 2: Installing Grafana\n\nOK\ndeb https://packages.grafana.com/oss/deb stable main\nHit:1 http://us-east-2.ec2.ports.ubuntu.com/ubuntu-ports focal InRelease\nGet:2 http://us-east-2.ec2.ports.ubuntu.com/ubuntu-ports focal-updates InRelease [114 kB]\nGet:3 http://us-east-2.ec2.ports.ubuntu.com/ubuntu-ports focal-backports InRelease [101 kB]\nHit:4 http://ppa.launchpad.net/longsleep/golang-backports/ubuntu focal InRelease\nGet:5 http://ports.ubuntu.com/ubuntu-ports focal-security InRelease [114 kB]\nGet:6 https://packages.grafana.com/oss/deb stable InRelease [12.1 kB]\n...\n")),(0,r.kt)("p",null,"To make sure it\u2019s running properly:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"sudo systemctl status grafana-server\n")),(0,r.kt)("p",null,"which should again show grafana as ",(0,r.kt)("inlineCode",{parentName:"p"},"active"),". Grafana should now be available at ",(0,r.kt)("inlineCode",{parentName:"p"},"http://your-node-host-ip:3000/")," from your browser. Log in with username: admin, password: admin, and you will be prompted to set up a new, secure password. Do that."),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"You may need to do ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo ufw allow 3000/tcp")," if the firewall is on, and/or adjust the cloud instance settings to allow connections to port 3000. If on public internet, make sure to only allow your IP to connect!")),(0,r.kt)("p",null,"Prometheus and Grafana are now installed, we're ready for the next step."),(0,r.kt)("h2",{id:"step-3-set-up-node_exporter-"},"Step 3: Set up node_exporter ",(0,r.kt)("a",{id:"exporter"})),(0,r.kt)("p",null,"In addition to metrics from Luxd, let\u2019s set up monitoring of the machine itself, so we can check CPU, memory, network and disk usage and be aware of any anomalies. For that, we will use node_exporter, a Prometheus plugin."),(0,r.kt)("p",null,"Run the script to execute the third step:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./monitoring-installer.sh --3\n")),(0,r.kt)("p",null,"The output should look something like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'Luxd monitoring installer\n--------------------------------\nSTEP 3: Installing node_exporter\n\nChecking environment...\nFound arm64 architecture...\nDowloading archive...\nhttps://github.com/prometheus/node_exporter/releases/download/v1.2.2/node_exporter-1.2.2.linux-arm64.tar.gz\nnode_exporter.tar.gz                        100%[=========================================================================================>]   7.91M  --.-KB/s    in 0.1s\n2021-11-05 14:57:25 URL:https://github-releases.githubusercontent.com/9524057/6dc22304-a1f5-419b-b296-906f6dd168dc?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20211105%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20211105T145725Z&X-Amz-Expires=300&X-Amz-Signature=3890e09e58ea9d4180684d9286c9e791b96b0c411d8f8a494f77e99f260bdcbb&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=9524057&response-content-disposition=attachment%3B%20filename%3Dnode_exporter-1.2.2.linux-arm64.tar.gz&response-content-type=application%2Foctet-stream [8296266/8296266] -> "node_exporter.tar.gz" [1]\nnode_exporter-1.2.2.linux-arm64/LICENSE\n')),(0,r.kt)("p",null,"Again, we check that the service is running correctly:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl status node_exporter\n")),(0,r.kt)("p",null,"If the service is running, Prometheus, Grafana and node_exporter should all work together now. To check, in your browser visit Prometheus web interface on ",(0,r.kt)("inlineCode",{parentName:"p"},"http://your-node-host-ip:9090/targets"),". You should see three targets enabled:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Prometheus"),(0,r.kt)("li",{parentName:"ul"},"luxd"),(0,r.kt)("li",{parentName:"ul"},"luxd-machine")),(0,r.kt)("p",null,"Make sure that all of them have ",(0,r.kt)("inlineCode",{parentName:"p"},"State")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"UP"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If you run your Luxd node with TLS enabled on your API port, you will need to manually edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/prometheus/prometheus.yml")," file and change the ",(0,r.kt)("inlineCode",{parentName:"p"},"luxd")," job to look like this:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'- job_name: "luxd"\n  metrics_path: "/ext/metrics"\n  scheme: "https"\n  tls_config:\n    insecure_skip_verify: true\n  static_configs:\n    - targets: ["localhost:9650"]\n')),(0,r.kt)("p",{parentName:"admonition"},"Mind the spacing (leading spaces too)! You will need admin privileges to do that (use ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo"),"). Restart prometheus service afterwards with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo systemctl restart prometheus"),".")),(0,r.kt)("p",null,"All that's left to do now is to provision the datasource and install the actual dashboards that will show us the data."),(0,r.kt)("h2",{id:"step-4-dashboards-"},"Step 4: Dashboards ",(0,r.kt)("a",{id:"dashboards"})),(0,r.kt)("p",null,"Run the script to install the dashboards:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./monitoring-installer.sh --4\n")),(0,r.kt)("p",null,"It will produce output something like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'Luxd monitoring installer\n--------------------------------\n\nDownloading...\nLast-modified header missing -- time-stamps turned off.\n2021-11-05 14:57:47 URL:https://raw.githubusercontent.com/luxdefi/lux-monitoring/master/grafana/dashboards/c_chain.json [50282/50282] -> "c_chain.json" [1]\nFINISHED --2021-11-05 14:57:47--\nTotal wall clock time: 0.2s\nDownloaded: 1 files, 49K in 0s (132 MB/s)\nLast-modified header missing -- time-stamps turned off.\n...\n')),(0,r.kt)("p",null,"This will download the latest versions of the dashboards from GitHub and provision Grafana to load them, as well as defining Prometheus as a datasource. It may take up to 30 seconds for the dashboards to show up. In your browser, go to: ",(0,r.kt)("inlineCode",{parentName:"p"},"http://your-node-host-ip:3000/dashboards"),". You should see 7 Lux dashboards:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Imported dashboards",src:n(8288).Z,width:"930",height:"812"})),(0,r.kt)("p",null,"Select 'Lux Main Dashboard' by clicking its title. It should load, and look similar to this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Main Dashboard",src:n(9356).Z,width:"1532",height:"975"})),(0,r.kt)("p",null,"Some graphs may take some time to populate fully, as they need a series of datapoints in order to render correctly."),(0,r.kt)("p",null,"You can bookmark the main dashboard as it shows the most important information about the node at a glance. Every dashboard has a link to all the others as the first row, so you can move between them easily."),(0,r.kt)("h2",{id:"step-5-additional-dashboards-optional"},"Step 5: Additional Dashboards (optional)"),(0,r.kt)("p",null,"Step 4 installs the basic set of dashboards that make sense to have on any node. Step 5 is for installing additional dashboards that may not be useful for every installation."),(0,r.kt)("p",null,"Currently, there is only one additional dashboard: Subnets. If your node is running any Subnets, you may want to add this as well. Do:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"./monitoring-installer.sh --5\n")),(0,r.kt)("p",null,"This will add the Subnets dashboard. It allows you to monitor operational data for any Subnet that is synced on the node. There is a Subnet switcher that allows you to switch between different Subnets. As there are many Subnets and not every node will have all of them, by default, it comes populated only with Spaces and Wagmi Subnets that exist on Fuji testnet:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Subnets switcher",src:n(4244).Z,width:"474",height:"408"})),(0,r.kt)("p",null,"To configure the dashboard and add any Subnets that your node is syncing, you will need to edit the dashboard. Select the ",(0,r.kt)("inlineCode",{parentName:"p"},"dashboard settings")," icon (image of a cog) in the upper right corner of the dashboard display and switch to ",(0,r.kt)("inlineCode",{parentName:"p"},"Variables")," section and select the ",(0,r.kt)("inlineCode",{parentName:"p"},"subnet")," variable. It should look something like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Variables screen",src:n(289).Z,width:"1678",height:"970"})),(0,r.kt)("p",null,"The variable format is:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Subnet name:<BlockchainID>\n")),(0,r.kt)("p",null,"and the separator between entries is a comma. Entries for Spaces and Wagmi look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Spaces (Fuji) : 2ebCneCbwthjQ1rYT41nhd7M76Hc6YmosMAQrTFhBq8qeqh6tt, WAGMI (Fuji) : 2AM3vsuLoJdGBGqX2ibE8RGEq4Lg7g4bot6BT1Z7B9dH5corUD\n")),(0,r.kt)("p",null,"After editing the values, press ",(0,r.kt)("inlineCode",{parentName:"p"},"Update")," and then click ",(0,r.kt)("inlineCode",{parentName:"p"},"Save dashboard")," button and confirm. Press the back arrow in the upper left corner to return to the dashboard. New values should now be selectable from the dropdown and data for the selected Subnet will be shown in the panels."),(0,r.kt)("h2",{id:"updating"},"Updating"),(0,r.kt)("p",null,"Available node metrics are updated constantly, new ones are added and obsolete removed, so it is good a practice to update the dashboards from time to time, especially if you notice any missing data in panels. Updating the dashboards is easy, just run the script with no arguments, and it will refresh the dashboards with the latest available versions. Allow up to 30s for dashboards to update in Grafana."),(0,r.kt)("p",null,"If you added the optional extra dashboards (step 5), they will be updated as well."),(0,r.kt)("h2",{id:"summary"},"Summary"),(0,r.kt)("p",null,"Using the script to install node monitoring is easy, and it gives you insight into how your node is behaving and what's going on under the hood. Also, pretty graphs!"),(0,r.kt)("p",null,"If you have feedback on this tutorial, problems with the script or following the steps, send us a message on ",(0,r.kt)("a",{parentName:"p",href:"https://chat.lux.network"},"Discord"),"."))}m.isMDXComponent=!0},8288:function(e,t,n){t.Z=n.p+"assets/images/monitoring-01-dashboards-c3663fa7cad607b57d81818952b6c2c8.png"},9356:function(e,t,n){t.Z=n.p+"assets/images/monitoring-02-main-dashboard-1a4d5e7128e299529dc7e57ad714d4dd.png"},4244:function(e,t,n){t.Z=n.p+"assets/images/monitoring-03-subnets-2d154d8caac8750098940356b3532556.png"},289:function(e,t,n){t.Z=n.p+"assets/images/monitoring-04-variables-59c3eceabd8036b378b9df8ffd74834e.png"}}]);