"use strict";(self.webpackChunklux_docs=self.webpackChunklux_docs||[]).push([[7138],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},x=Object.keys(e);for(a=0;a<x.length;a++)n=x[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(e);for(a=0;a<x.length;a++)n=x[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},l=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,x=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=p(n),u=i,f=c["".concat(o,".").concat(u)]||c[u]||d[u]||x;return n?a.createElement(f,r(r({ref:t},l),{},{components:n})):a.createElement(f,r({ref:t},l))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var x=n.length,r=new Array(x);r[0]=c;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var p=2;p<x;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},3711:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d}});var a=n(7462),i=n(3366),x=(n(7294),n(3905)),r=["components"],s={},o="Coreth Atomic Transaction Format",p={unversionedId:"specs/coreth-atomic-transaction-serialization",id:"specs/coreth-atomic-transaction-serialization",title:"Coreth Atomic Transaction Format",description:"This page is meant to be the single source of truth for how we serialize atomic transactions in Coreth. This document uses the primitive serialization format for packing and secp256k1 for cryptographic user identification.",source:"@site/docs/specs/coreth-atomic-transaction-serialization.md",sourceDirName:"specs",slug:"/specs/coreth-atomic-transaction-serialization",permalink:"/specs/coreth-atomic-transaction-serialization",draft:!1,editUrl:"https://github.com/luxdefi/network-docs/edit/main/docs/specs/coreth-atomic-transaction-serialization.md",tags:[],version:"current",frontMatter:{},sidebar:"specs",previous:{title:"AVM Transaction Format",permalink:"/specs/avm-transaction-serialization"},next:{title:"Cryptographic Primitives",permalink:"/specs/cryptographic-primitives"}},l={},d=[{value:"Codec ID",id:"codec-id",level:2},{value:"Inputs",id:"inputs",level:2},{value:"EVM Input",id:"evm-input",level:2},{value:"What EVM Input Contains",id:"what-evm-input-contains",level:3},{value:"Gantt EVM Input Specification",id:"gantt-evm-input-specification",level:3},{value:"Proto EVM Input Specification",id:"proto-evm-input-specification",level:3},{value:"EVM Input Example",id:"evm-input-example",level:3},{value:"Transferable Input",id:"transferable-input",level:2},{value:"What Transferable Input Contains",id:"what-transferable-input-contains",level:3},{value:"Gantt Transferable Input Specification",id:"gantt-transferable-input-specification",level:3},{value:"Proto Transferable Input Specification",id:"proto-transferable-input-specification",level:3},{value:"Transferable Input Example",id:"transferable-input-example",level:3},{value:"SECP256K1 Transfer Input",id:"secp256k1-transfer-input",level:2},{value:"What SECP256K1 Transfer Input Contains",id:"what-secp256k1-transfer-input-contains",level:3},{value:"Gantt SECP256K1 Transfer Input Specification",id:"gantt-secp256k1-transfer-input-specification",level:3},{value:"Proto SECP256K1 Transfer Input Specification",id:"proto-secp256k1-transfer-input-specification",level:3},{value:"SECP256K1 Transfer Input Example",id:"secp256k1-transfer-input-example",level:3},{value:"Outputs",id:"outputs",level:2},{value:"EVM Output",id:"evm-output",level:2},{value:"What EVM Output Contains",id:"what-evm-output-contains",level:3},{value:"Gantt EVM Output Specification",id:"gantt-evm-output-specification",level:3},{value:"Proto EVM Output Specification",id:"proto-evm-output-specification",level:3},{value:"EVM Output Example",id:"evm-output-example",level:3},{value:"Transferable Output",id:"transferable-output",level:2},{value:"What Transferable Output Contains",id:"what-transferable-output-contains",level:3},{value:"Gantt Transferable Output Specification",id:"gantt-transferable-output-specification",level:3},{value:"Proto Transferable Output Specification",id:"proto-transferable-output-specification",level:3},{value:"Transferable Output Example",id:"transferable-output-example",level:3},{value:"SECP256K1 Transfer Output",id:"secp256k1-transfer-output",level:2},{value:"What SECP256K1 Transfer Output Contains",id:"what-secp256k1-transfer-output-contains",level:3},{value:"Gantt SECP256K1 Transfer Output Specification",id:"gantt-secp256k1-transfer-output-specification",level:3},{value:"Proto SECP256K1 Transfer Output Specification",id:"proto-secp256k1-transfer-output-specification",level:3},{value:"SECP256K1 Transfer Output Example",id:"secp256k1-transfer-output-example",level:3},{value:"Atomic Transactions",id:"atomic-transactions",level:2},{value:"ExportTx",id:"exporttx",level:2},{value:"What ExportTx Contains",id:"what-exporttx-contains",level:3},{value:"Gantt ExportTx Specification",id:"gantt-exporttx-specification",level:3},{value:"ExportTx Example",id:"exporttx-example",level:3},{value:"ImportTx",id:"importtx",level:2},{value:"What ImportTx Contains",id:"what-importtx-contains",level:3},{value:"Gantt ImportTx Specification",id:"gantt-importtx-specification",level:3},{value:"ImportTx Example",id:"importtx-example",level:3},{value:"Credentials",id:"credentials",level:2},{value:"SECP256K1 Credential",id:"secp256k1-credential",level:2},{value:"What SECP256K1 Credential Contains",id:"what-secp256k1-credential-contains",level:3},{value:"Gantt SECP256K1 Credential Specification",id:"gantt-secp256k1-credential-specification",level:3},{value:"Proto SECP256K1 Credential Specification",id:"proto-secp256k1-credential-specification",level:3},{value:"SECP256K1 Credential Example",id:"secp256k1-credential-example",level:3},{value:"Signed Transaction",id:"signed-transaction",level:2},{value:"What Signed Transaction Contains",id:"what-signed-transaction-contains",level:3},{value:"Gantt Signed Transaction Specification",id:"gantt-signed-transaction-specification",level:3},{value:"Proto Signed Transaction Specification",id:"proto-signed-transaction-specification",level:3},{value:"Signed Transaction Example",id:"signed-transaction-example",level:3},{value:"UTXO",id:"utxo",level:2},{value:"What UTXO Contains",id:"what-utxo-contains",level:3},{value:"Gantt UTXO Specification",id:"gantt-utxo-specification",level:3},{value:"Proto UTXO Specification",id:"proto-utxo-specification",level:3},{value:"UTXO Example",id:"utxo-example",level:3}],c={toc:d};function u(e){var t=e.components,n=(0,i.Z)(e,r);return(0,x.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,x.kt)("h1",{id:"coreth-atomic-transaction-format"},"Coreth Atomic Transaction Format"),(0,x.kt)("p",null,"This page is meant to be the single source of truth for how we serialize atomic transactions in ",(0,x.kt)("inlineCode",{parentName:"p"},"Coreth"),". This document uses the ",(0,x.kt)("a",{parentName:"p",href:"/specs/serialization-primitives"},"primitive serialization")," format for packing and ",(0,x.kt)("a",{parentName:"p",href:"/specs/cryptographic-primitives#cryptography-in-the-lux-virtual-machine"},"secp256k1")," for cryptographic user identification."),(0,x.kt)("h2",{id:"codec-id"},"Codec ID"),(0,x.kt)("p",null,"Some data is prepended with a codec ID (unt16) that denotes how the data should be deserialized. Right now, the only valid codec ID is 0 (",(0,x.kt)("inlineCode",{parentName:"p"},"0x00 0x00"),")."),(0,x.kt)("h2",{id:"inputs"},"Inputs"),(0,x.kt)("p",null,"Inputs to Coreth Atomic Transactions are either an ",(0,x.kt)("inlineCode",{parentName:"p"},"EVMInput")," from this chain or a ",(0,x.kt)("inlineCode",{parentName:"p"},"TransferableInput")," (which contains a ",(0,x.kt)("inlineCode",{parentName:"p"},"SECP256K1TransferInput"),") from another chain. The ",(0,x.kt)("inlineCode",{parentName:"p"},"EVMInput")," will be used in ",(0,x.kt)("inlineCode",{parentName:"p"},"ExportTx")," to spend funds from this chain, while the ",(0,x.kt)("inlineCode",{parentName:"p"},"TransferableInput")," will be used to import atomic UTXOs from another chain."),(0,x.kt)("h2",{id:"evm-input"},"EVM Input"),(0,x.kt)("p",null,"Input type that specifies an EVM account to deduct the funds from as part of an ",(0,x.kt)("inlineCode",{parentName:"p"},"ExportTx"),"."),(0,x.kt)("h3",{id:"what-evm-input-contains"},"What EVM Input Contains"),(0,x.kt)("p",null,"An EVM Input contains an ",(0,x.kt)("inlineCode",{parentName:"p"},"address"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"amount"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"assetID"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"nonce"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Address"))," is the EVM address from which to transfer funds."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Amount"))," is the amount of the asset to be transferred (specified in nLUX for LUX and the smallest denomination for all other assets)."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AssetID"))," is the ID of the asset to transfer."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Nonce"))," is the nonce of the EVM account exporting funds.")),(0,x.kt)("h3",{id:"gantt-evm-input-specification"},"Gantt EVM Input Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+----------+----------+-------------------------+\n| address  : [20]byte |                20 bytes |\n+----------+----------+-------------------------+\n| amount   : uint64   |                08 bytes |\n+----------+----------+-------------------------+\n| asset_id : [32]byte |                32 bytes |\n+----------+----------+-------------------------+\n| nonce    : uint64   |                08 bytes |\n+----------+----------+-------------------------+\n                      |                68 bytes |\n                      +-------------------------+\n")),(0,x.kt)("h3",{id:"proto-evm-input-specification"},"Proto EVM Input Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message  {\n    bytes address = 1; // 20 bytes\n    uint64 amount = 2; // 08 bytes\n    bytes assetID = 3; // 32 bytes\n    uint64 nonce = 4;  // 08 bytes\n}\n")),(0,x.kt)("h3",{id:"evm-input-example"},"EVM Input Example"),(0,x.kt)("p",null,"Let's make an EVM Input:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"Address: 0x8db97c7cece249c2b98bdc0226cc4c2a57bf52fc")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"Amount: 2000000")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"AssetID: 0x000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"Nonce: 0"))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    Address   <- 0x8db97c7cece249c2b98bdc0226cc4c2a57bf52fc,\n    Amount    <- 0x00000000001e8480\n    AssetID   <- 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db\n    Nonce     <- 0x0000000000000000\n]\n=\n[\n    // address:\n    0x8d, 0xb9, 0x7c, 0x7c, 0xec, 0xe2, 0x49, 0xc2,\n    0xb9, 0x8b, 0xdc, 0x02, 0x26, 0xcc, 0x4c, 0x2a,\n    0x57, 0xbf, 0x52, 0xfc,\n    // amount:\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x1e, 0x84, 0x80,\n    // assetID:\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n    // nonce:\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n]\n")),(0,x.kt)("h2",{id:"transferable-input"},"Transferable Input"),(0,x.kt)("p",null,"Transferable Input wraps a ",(0,x.kt)("inlineCode",{parentName:"p"},"SECP256K1TransferInput"),". Transferable inputs describe a specific UTXO with a provided transfer input."),(0,x.kt)("h3",{id:"what-transferable-input-contains"},"What Transferable Input Contains"),(0,x.kt)("p",null,"A transferable input contains a ",(0,x.kt)("inlineCode",{parentName:"p"},"TxID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"UTXOIndex")," ",(0,x.kt)("inlineCode",{parentName:"p"},"AssetID")," and an ",(0,x.kt)("inlineCode",{parentName:"p"},"Input"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TxID"))," is a 32-byte array that defines which transaction this input is consuming an output from."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"UTXOIndex"))," is an int that defines which utxo this input is consuming in the specified transaction."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AssetID"))," is a 32-byte array that defines which asset this input references."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Input"))," is a ",(0,x.kt)("inlineCode",{parentName:"li"},"SECP256K1TransferInput"),", as defined below.")),(0,x.kt)("h3",{id:"gantt-transferable-input-specification"},"Gantt Transferable Input Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+------------+----------+------------------------+\n| tx_id      : [32]byte |               32 bytes |\n+------------+----------+------------------------+\n| utxo_index : int      |               04 bytes |\n+------------+----------+------------------------+\n| asset_id   : [32]byte |               32 bytes |\n+------------+----------+------------------------+\n| input      : Input    |      size(input) bytes |\n+------------+----------+------------------------+\n                        | 68 + size(input) bytes |\n                        +------------------------+\n")),(0,x.kt)("h3",{id:"proto-transferable-input-specification"},"Proto Transferable Input Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message TransferableInput {\n    bytes tx_id = 1;       // 32 bytes\n    uint32 utxo_index = 2; // 04 bytes\n    bytes asset_id = 3;    // 32 bytes\n    Input input = 4;       // size(input)\n}\n")),(0,x.kt)("h3",{id:"transferable-input-example"},"Transferable Input Example"),(0,x.kt)("p",null,"Let's make a transferable input:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"TxID: 0x6613a40dcdd8d22ea4aa99a4c84349056317cf550b6685e045e459954f258e59")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"UTXOIndex: 1")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"AssetID: 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},'Input: "Example SECP256K1 Transfer Input from below"'))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    TxID      <- 0x6613a40dcdd8d22ea4aa99a4c84349056317cf550b6685e045e459954f258e59\n    UTXOIndex <- 0x00000001\n    AssetID   <- 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db\n    Input     <- 0x0000000500000000075bcd15000000020000000700000003\n]\n=\n[\n    // txID:\n    0x66, 0x13, 0xa4, 0x0d, 0xcd, 0xd8, 0xd2, 0x2e,\n    0xa4, 0xaa, 0x99, 0xa4, 0xc8, 0x43, 0x49, 0x05,\n    0x63, 0x17, 0xcf, 0x55, 0x0b, 0x66, 0x85, 0xe0,\n    0x45, 0xe4, 0x59, 0x95, 0x4f, 0x25, 0x8e, 0x59,\n    // utxoIndex:\n    0x00, 0x00, 0x00, 0x01,\n    // assetID:\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n    // input:\n    0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x74,\n    0x6a, 0x52, 0x88, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x00, 0x00,\n]\n")),(0,x.kt)("h2",{id:"secp256k1-transfer-input"},"SECP256K1 Transfer Input"),(0,x.kt)("p",null,"A ",(0,x.kt)("a",{parentName:"p",href:"./cryptographic-primitives#cryptography-in-the-lux-virtual-machine"},"secp256k1")," transfer input allows for spending an unspent secp256k1 transfer output."),(0,x.kt)("h3",{id:"what-secp256k1-transfer-input-contains"},"What SECP256K1 Transfer Input Contains"),(0,x.kt)("p",null,"A secp256k1 transfer input contains an ",(0,x.kt)("inlineCode",{parentName:"p"},"Amount")," and ",(0,x.kt)("inlineCode",{parentName:"p"},"AddressIndices"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID"))," is the ID for this input type. It is ",(0,x.kt)("inlineCode",{parentName:"li"},"0x00000005"),"."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Amount"))," is a long that specifies the quantity that this input should be consuming from the UTXO. Must be positive. Must be equal to the amount specified in the UTXO."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AddressIndices"))," is a list of unique ints that define the private keys that are being used to spend the UTXO. Each UTXO has an array of addresses that can spend the UTXO. Each int represents the index in this address array that will sign this transaction. The array must be sorted low to high.")),(0,x.kt)("h3",{id:"gantt-secp256k1-transfer-input-specification"},"Gantt SECP256K1 Transfer Input Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+-------------------------+-------------------------------------+\n| type_id         : int   |                             4 bytes |\n+-----------------+-------+-------------------------------------+\n| amount          : long  |                             8 bytes |\n+-----------------+-------+-------------------------------------+\n| address_indices : []int |  4 + 4 * len(address_indices) bytes |\n+-----------------+-------+-------------------------------------+\n                          | 16 + 4 * len(address_indices) bytes |\n                          +-------------------------------------+\n")),(0,x.kt)("h3",{id:"proto-secp256k1-transfer-input-specification"},"Proto SECP256K1 Transfer Input Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message SECP256K1TransferInput {\n    uint32 typeID = 1;                   // 04 bytes\n    uint64 amount = 2;                   // 08 bytes\n    repeated uint32 address_indices = 3; // 04 bytes + 04 bytes * len(address_indices)\n}\n")),(0,x.kt)("h3",{id:"secp256k1-transfer-input-example"},"SECP256K1 Transfer Input Example"),(0,x.kt)("p",null,"Let's make a payment input with:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeId")),": 5"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Amount")),": 500000000000"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AddressIndices")),": ","[","0","]")),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    TypeID         <- 0x00000005\n    Amount         <- 500000000000 = 0x000000746a528800,\n    AddressIndices <- [0x00000000]\n]\n=\n[\n    // type id:\n    0x00, 0x00, 0x00, 0x05,\n    // amount:\n    0x00, 0x00, 0x00, 0x74, 0x6a, 0x52, 0x88, 0x00,\n    // length:\n    0x00, 0x00, 0x00, 0x01,\n    // sig[0]\n    0x00, 0x00, 0x00, 0x00,\n]\n")),(0,x.kt)("h2",{id:"outputs"},"Outputs"),(0,x.kt)("p",null,"Outputs to Coreth Atomic Transactions are either an ",(0,x.kt)("inlineCode",{parentName:"p"},"EVMOutput")," to be added to the balance of an address on this chain or a ",(0,x.kt)("inlineCode",{parentName:"p"},"TransferableOutput")," (whcih contains a ",(0,x.kt)("inlineCode",{parentName:"p"},"SECP256K1TransferOutput"),") to be moved to another chain."),(0,x.kt)("p",null,"The EVM Output will be used in ",(0,x.kt)("inlineCode",{parentName:"p"},"ImportTx")," to add funds to this chain, while the ",(0,x.kt)("inlineCode",{parentName:"p"},"TransferableOutput")," will be used to export atomic UTXOs to another chain."),(0,x.kt)("h2",{id:"evm-output"},"EVM Output"),(0,x.kt)("p",null,"Output type specifying a state change to be applied to an EVM account as part of an ",(0,x.kt)("inlineCode",{parentName:"p"},"ImportTx"),"."),(0,x.kt)("h3",{id:"what-evm-output-contains"},"What EVM Output Contains"),(0,x.kt)("p",null,"An EVM Output contains an ",(0,x.kt)("inlineCode",{parentName:"p"},"address"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"amount"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"assetID"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Address"))," is the EVM address that will receive the funds."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Amount"))," is the amount of the asset to be transferred (specified in nLUX for LUX and the smallest denomination for all other assets)."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AssetID"))," is the ID of the asset to transfer.")),(0,x.kt)("h3",{id:"gantt-evm-output-specification"},"Gantt EVM Output Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+----------+----------+-------------------------+\n| address  : [20]byte |                20 bytes |\n+----------+----------+-------------------------+\n| amount   : uin64    |                08 bytes |\n+----------+----------+-------------------------+\n| asset_id : [32]byte |                32 bytes |\n+----------+----------+-------------------------+\n                      |                60 bytes |\n                      +-------------------------+\n")),(0,x.kt)("h3",{id:"proto-evm-output-specification"},"Proto EVM Output Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message  {\n    bytes address = 1; // 20 bytes\n    uint64 amount = 2; // 08 bytes\n    bytes assetID = 3; // 32 bytes\n}\n")),(0,x.kt)("h3",{id:"evm-output-example"},"EVM Output Example"),(0,x.kt)("p",null,"Let's make an EVM Output:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"Address: 0x0eb5ccb85c29009b6060decb353a38ea3b52cd20")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"Amount: 500000000000")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"AssetID: 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db"))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    Address   <- 0x0eb5ccb85c29009b6060decb353a38ea3b52cd20,\n    Amount    <- 0x000000746a528800\n    AssetID   <- 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db\n]\n=\n[\n    // address:\n    0xc3, 0x34, 0x41, 0x28, 0xe0, 0x60, 0x12, 0x8e,\n    0xde, 0x35, 0x23, 0xa2, 0x4a, 0x46, 0x1c, 0x89,\n    0x43, 0xab, 0x08, 0x59,\n    // amount:\n    0x00, 0x00, 0x00, 0x74, 0x6a, 0x52, 0x88, 0x00,\n    // assetID:\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n]\n")),(0,x.kt)("h2",{id:"transferable-output"},"Transferable Output"),(0,x.kt)("p",null,"Transferable outputs wrap a ",(0,x.kt)("inlineCode",{parentName:"p"},"SECP256K1TransferOutput")," with an asset ID."),(0,x.kt)("h3",{id:"what-transferable-output-contains"},"What Transferable Output Contains"),(0,x.kt)("p",null,"A transferable output contains an ",(0,x.kt)("inlineCode",{parentName:"p"},"AssetID")," and an ",(0,x.kt)("inlineCode",{parentName:"p"},"Output")," which is a ",(0,x.kt)("inlineCode",{parentName:"p"},"SECP256K1TransferOutput"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AssetID"))," is a 32-byte array that defines which asset this output references."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Output"))," is a ",(0,x.kt)("inlineCode",{parentName:"li"},"SECP256K1TransferOutput")," as defined below.")),(0,x.kt)("h3",{id:"gantt-transferable-output-specification"},"Gantt Transferable Output Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+----------+----------+-------------------------+\n| asset_id : [32]byte |                32 bytes |\n+----------+----------+-------------------------+\n| output   : Output   |      size(output) bytes |\n+----------+----------+-------------------------+\n                      | 32 + size(output) bytes |\n                      +-------------------------+\n")),(0,x.kt)("h3",{id:"proto-transferable-output-specification"},"Proto Transferable Output Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message TransferableOutput {\n    bytes asset_id = 1; // 32 bytes\n    Output output = 2;  // size(output)\n}\n")),(0,x.kt)("h3",{id:"transferable-output-example"},"Transferable Output Example"),(0,x.kt)("p",null,"Let's make a transferable output:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"AssetID: 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},'Output: "Example SECP256K1 Transfer Output from below"'))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    AssetID <- 0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db\n    Output  <- 0x000000070000000000003039000000000000d431000000010000000251025c61fbcfc078f69334f834be6dd26d55a955c3344128e060128ede3523a24a461c8943ab0859,\n]\n=\n[\n    // assetID:\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n    // output:\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n    0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x0f, 0x42, 0x40, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x00, 0x01, 0x66, 0xf9, 0x0d, 0xb6,\n    0x13, 0x7a, 0x78, 0xf7, 0x6b, 0x36, 0x93, 0xf7,\n    0xf2, 0xbc, 0x50, 0x79, 0x56, 0xda, 0xe5, 0x63,\n]\n")),(0,x.kt)("h2",{id:"secp256k1-transfer-output"},"SECP256K1 Transfer Output"),(0,x.kt)("p",null,"A ",(0,x.kt)("a",{parentName:"p",href:"/specs/cryptographic-primitives#cryptography-in-the-lux-virtual-machine"},"secp256k1")," transfer output allows for sending a quantity of an asset to a collection of addresses after a specified unix time."),(0,x.kt)("h3",{id:"what-secp256k1-transfer-output-contains"},"What SECP256K1 Transfer Output Contains"),(0,x.kt)("p",null,"A secp256k1 transfer output contains a ",(0,x.kt)("inlineCode",{parentName:"p"},"TypeID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"Amount"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"Locktime"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"Threshold"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"Addresses"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID"))," is the ID for this output type. It is ",(0,x.kt)("inlineCode",{parentName:"li"},"0x00000007"),"."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Amount"))," is a long that specifies the quantity of the asset that this output owns. Must be positive."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Locktime"))," is a long that contains the unix timestamp that this output can be spent after. The unix timestamp is specific to the second."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Threshold"))," is an int that names the number of unique signatures required to spend the output. Must be less than or equal to the length of ",(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Addresses")),". If ",(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Addresses"))," is empty, must be 0."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Addresses"))," is a list of unique addresses that correspond to the private keys that can be used to spend this output. Addresses must be sorted lexicographically.")),(0,x.kt)("h3",{id:"gantt-secp256k1-transfer-output-specification"},"Gantt SECP256K1 Transfer Output Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+-----------+------------+--------------------------------+\n| type_id   : int        |                        4 bytes |\n+-----------+------------+--------------------------------+\n| amount    : long       |                        8 bytes |\n+-----------+------------+--------------------------------+\n| locktime  : long       |                        8 bytes |\n+-----------+------------+--------------------------------+\n| threshold : int        |                        4 bytes |\n+-----------+------------+--------------------------------+\n| addresses : [][20]byte |  4 + 20 * len(addresses) bytes |\n+-----------+------------+--------------------------------+\n                         | 28 + 20 * len(addresses) bytes |\n                         +--------------------------------+\n")),(0,x.kt)("h3",{id:"proto-secp256k1-transfer-output-specification"},"Proto SECP256K1 Transfer Output Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message SECP256K1TransferOutput {\n    uint32 typeID = 1;            // 04 bytes\n    uint64 amount = 2;            // 08 bytes\n    uint64 locktime = 3;          // 08 bytes\n    uint32 threshold = 4;         // 04 bytes\n    repeated bytes addresses = 5; // 04 bytes + 20 bytes * len(addresses)\n}\n")),(0,x.kt)("h3",{id:"secp256k1-transfer-output-example"},"SECP256K1 Transfer Output Example"),(0,x.kt)("p",null,"Let's make a secp256k1 transfer output with:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID")),": 7"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Amount")),": 1000000"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Locktime")),": 0"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Threshold")),": 1"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Addresses")),":",(0,x.kt)("ul",{parentName:"li"},(0,x.kt)("li",{parentName:"ul"},"0x66f90db6137a78f76b3693f7f2bc507956dae563")))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    TypeID    <- 0x00000007\n    Amount    <- 0x00000000000f4240\n    Locktime  <- 0x0000000000000000\n    Threshold <- 0x00000001\n    Addresses <- [\n        0x66f90db6137a78f76b3693f7f2bc507956dae563\n    ]\n]\n=\n[\n    // typeID:\n    0x00, 0x00, 0x00, 0x07,\n    // amount:\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x42, 0x40,\n    // locktime:\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    // threshold:\n    0x00, 0x00, 0x00, 0x01,\n    // number of addresses:\n    0x00, 0x00, 0x00, 0x01,\n    // addrs[0]:\n    0x66, 0xf9, 0x0d, 0xb6, 0x13, 0x7a, 0x78, 0xf7,\n    0x6b, 0x36, 0x93, 0xf7, 0xf2, 0xbc, 0x50, 0x79,\n    0x56, 0xda, 0xe5, 0x63,\n]\n")),(0,x.kt)("h2",{id:"atomic-transactions"},"Atomic Transactions"),(0,x.kt)("p",null,"Atomic Transactions are used to move funds between chains. There are two types ",(0,x.kt)("inlineCode",{parentName:"p"},"ImportTx")," and ",(0,x.kt)("inlineCode",{parentName:"p"},"ExportTx"),"."),(0,x.kt)("h2",{id:"exporttx"},"ExportTx"),(0,x.kt)("p",null,"ExportTx is a transaction to export funds from Coreth to a different chain."),(0,x.kt)("h3",{id:"what-exporttx-contains"},"What ExportTx Contains"),(0,x.kt)("p",null,"An ExportTx contains an ",(0,x.kt)("inlineCode",{parentName:"p"},"typeID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"networkID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"blockchainID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"destinationChain"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"inputs"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"exportedOutputs"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"typeID"))," is an int that the type for an ExportTx. The typeID for an exportTx is 1."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"networkID"))," is an int that defines which Lux network this transaction is meant to be issued to. This could refer to mainnet, fuji, etc. and is different than the EVM's network ID."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"blockchainID"))," is a 32-byte array that defines which blockchain this transaction was issued to."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"destinationChain"))," is a 32-byte array that defines which blockchain this transaction exports funds to."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"inputs"))," is an array of EVM Inputs to fund the ExportTx."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"exportedOutputs"))," is an array of TransferableOutputs to be transferred to ",(0,x.kt)("inlineCode",{parentName:"li"},"destinationChain"),".")),(0,x.kt)("h3",{id:"gantt-exporttx-specification"},"Gantt ExportTx Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+---------------------+----------------------+-------------------------------------------------+\n| typeID              : int                  |                                        04 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| networkID           : int                  |                                        04 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| blockchainID        : [32]byte             |                                        32 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| destinationChain    : [32]byte             |                                        32 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| inputs              : []EvmInput           |                          4 + size(inputs) bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| exportedOutputs     : []TransferableOutput |                 4 + size(exportedOutputs) bytes |\n+----------+----------+----------------------+-------------------------------------------------+\n                                             | 80 + size(inputs) + size(exportedOutputs) bytes |\n                                             +-------------------------------------------------+\n")),(0,x.kt)("h3",{id:"exporttx-example"},"ExportTx Example"),(0,x.kt)("p",null,"Let's make an EVM Output:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"1")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"NetworkID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"12345")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"BlockchainID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0x91060eabfb5a571720109b5896e5ff00010a1cfe6b103d585e6ebf27b97a1735")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"DestinationChain")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0xd891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Inputs")),":",(0,x.kt)("ul",{parentName:"li"},(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},'"Example EVMInput as defined above"')))),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Exportedoutputs")),":",(0,x.kt)("ul",{parentName:"li"},(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},'"Example TransferableOutput as defined above"'))))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    TypeID           <- 0x00000001\n    NetworkID        <- 0x00003039\n    BlockchainID     <- 0x91060eabfb5a571720109b5896e5ff00010a1cfe6b103d585e6ebf27b97a1735\n    DestinationChain <- 0xd891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf\n    Inputs           <- [\n        0xc3344128e060128ede3523a24a461c8943ab08590000000000003039000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f0000000000000001\n    ]\n    ExportedOutputs  <- [\n        0xdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2dbdbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db0000000700000000000f42400000000000000000000000010000000166f90db6137a78f76b3693f7f2bc507956dae563\n    ]\n]\n=\n[\n    // typeID:\n    0x00, 0x00, 0x00, 0x01,\n    // networkID:\n    0x00, 0x00, 0x00, 0x04,\n    // blockchainID:\n    0x91, 0x06, 0x0e, 0xab, 0xfb, 0x5a, 0x57, 0x17,\n    0x20, 0x10, 0x9b, 0x58, 0x96, 0xe5, 0xff, 0x00,\n    0x01, 0x0a, 0x1c, 0xfe, 0x6b, 0x10, 0x3d, 0x58,\n    0x5e, 0x6e, 0xbf, 0x27, 0xb9, 0x7a, 0x17, 0x35,\n    // destination_chain:\n    0xd8, 0x91, 0xad, 0x56, 0x05, 0x6d, 0x9c, 0x01,\n    0xf1, 0x8f, 0x43, 0xf5, 0x8b, 0x5c, 0x78, 0x4a,\n    0xd0, 0x7a, 0x4a, 0x49, 0xcf, 0x3d, 0x1f, 0x11,\n    0x62, 0x38, 0x04, 0xb5, 0xcb, 0xa2, 0xc6, 0xbf,\n    // inputs[] count:\n    0x00, 0x00, 0x00, 0x01,\n    // inputs[0]\n    0x8d, 0xb9, 0x7c, 0x7c, 0xec, 0xe2, 0x49, 0xc2,\n    0xb9, 0x8b, 0xdc, 0x02, 0x26, 0xcc, 0x4c, 0x2a,\n    0x57, 0xbf, 0x52, 0xfc, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x1e, 0x84, 0x80, 0xdb, 0xcf, 0x89, 0x0f,\n    0x77, 0xf4, 0x9b, 0x96, 0x85, 0x76, 0x48, 0xb7,\n    0x2b, 0x77, 0xf9, 0xf8, 0x29, 0x37, 0xf2, 0x8a,\n    0x68, 0x70, 0x4a, 0xf0, 0x5d, 0xa0, 0xdc, 0x12,\n    0xba, 0x53, 0xf2, 0xdb, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00,\n    // exportedOutputs[] count\n    0x00, 0x00, 0x00, 0x01,\n    // exportedOutputs[0]\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n    0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x0f, 0x42, 0x40, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x00, 0x01, 0x66, 0xf9, 0x0d, 0xb6,\n    0x13, 0x7a, 0x78, 0xf7, 0x6b, 0x36, 0x93, 0xf7,\n    0xf2, 0xbc, 0x50, 0x79, 0x56, 0xda, 0xe5, 0x63,\n]\n")),(0,x.kt)("h2",{id:"importtx"},"ImportTx"),(0,x.kt)("p",null,"ImportTx is a transaction to import funds to Coreth from another chain."),(0,x.kt)("h3",{id:"what-importtx-contains"},"What ImportTx Contains"),(0,x.kt)("p",null,"An ImportTx contains an ",(0,x.kt)("inlineCode",{parentName:"p"},"typeID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"networkID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"blockchainID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"destinationChain"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"importedInputs"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"Outs"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"typeID"))," is an int that the type for an ImportTx. The typeID for an ",(0,x.kt)("inlineCode",{parentName:"li"},"ImportTx")," is 0."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"networkID"))," is an int that defines which Lux network this transaction is meant to be issued to. This could refer to mainnet, fuji, etc. and is different than the EVM's network ID."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"blockchainID"))," is a 32-byte array that defines which blockchain this transaction was issued to."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"sourceChain"))," is a 32-byte array that defines which blockchain from which to import funds."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"importedInputs"))," is an array of TransferableInputs to fund the ImportTx."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Outs"))," is an array of EVM Outputs to be imported to this chain.")),(0,x.kt)("h3",{id:"gantt-importtx-specification"},"Gantt ImportTx Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+---------------------+----------------------+-------------------------------------------------+\n| typeID              : int                  |                                        04 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| networkID           : int                  |                                        04 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| blockchainID        : [32]byte             |                                        32 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| sourceChain         : [32]byte             |                                        32 bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| importedInputs      : []TransferableInput  |                  4 + size(importedInputs) bytes |\n+---------------------+----------------------+-------------------------------------------------+\n| outs                : []EVMOutput          |                            4 + size(outs) bytes |\n+----------+----------+----------------------+-------------------------------------------------+\n                                             |    80 + size(importedInputs) + size(outs) bytes |\n                                             +-------------------------------------------------+\n")),(0,x.kt)("h3",{id:"importtx-example"},"ImportTx Example"),(0,x.kt)("p",null,"Let's make an ImportTx:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"NetworkID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"12345")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"BlockchainID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0x91060eabfb5a571720109b5896e5ff00010a1cfe6b103d585e6ebf27b97a1735")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"SourceChain")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0xd891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"ImportedInputs")),":",(0,x.kt)("ul",{parentName:"li"},(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},'"Example TransferableInput as defined above"')))),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Outs")),":",(0,x.kt)("ul",{parentName:"li"},(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},'"Example EVMOutput as defined above"'))))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    TypeID           <- 0x00000000\n    NetworkID        <- 0x00003039\n    BlockchainID     <- 0x91060eabfb5a571720109b5896e5ff00010a1cfe6b103d585e6ebf27b97a1735\n    SourceChain      <- 0xd891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf\n    ImportedInputs   <- [\n        0x6613a40dcdd8d22ea4aa99a4c84349056317cf550b6685e045e459954f258e5900000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000005000000746a5288000000000100000000\n    ]\n    Outs             <- [\n        0x0eb5ccb85c29009b6060decb353a38ea3b52cd20000000746a528800dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db\n    ]\n]\n=\n[\n    // typeID:\n    0x00, 0x00, 0x00, 0x00,\n    // networkID:\n    0x00, 0x00, 0x00, 0x04,\n    // blockchainID:\n    0x91, 0x06, 0x0e, 0xab, 0xfb, 0x5a, 0x57, 0x17,\n    0x20, 0x10, 0x9b, 0x58, 0x96, 0xe5, 0xff, 0x00,\n    0x01, 0x0a, 0x1c, 0xfe, 0x6b, 0x10, 0x3d, 0x58,\n    0x5e, 0x6e, 0xbf, 0x27, 0xb9, 0x7a, 0x17, 0x35,\n    // sourceChain:\n    0xd8, 0x91, 0xad, 0x56, 0x05, 0x6d, 0x9c, 0x01,\n    0xf1, 0x8f, 0x43, 0xf5, 0x8b, 0x5c, 0x78, 0x4a,\n    0xd0, 0x7a, 0x4a, 0x49, 0xcf, 0x3d, 0x1f, 0x11,\n    0x62, 0x38, 0x04, 0xb5, 0xcb, 0xa2, 0xc6, 0xbf,\n    // importedInputs[] count:\n    0x00, 0x00, 0x00, 0x01,\n    // importedInputs[0]\n    0x66, 0x13, 0xa4, 0x0d, 0xcd, 0xd8, 0xd2, 0x2e,\n    0xa4, 0xaa, 0x99, 0xa4, 0xc8, 0x43, 0x49, 0x05,\n    0x63, 0x17, 0xcf, 0x55, 0x0b, 0x66, 0x85, 0xe0,\n    0x45, 0xe4, 0x59, 0x95, 0x4f, 0x25, 0x8e, 0x59,\n    0x00, 0x00, 0x00, 0x01, 0xdb, 0xcf, 0x89, 0x0f,\n    0x77, 0xf4, 0x9b, 0x96, 0x85, 0x76, 0x48, 0xb7,\n    0x2b, 0x77, 0xf9, 0xf8, 0x29, 0x37, 0xf2, 0x8a,\n    0x68, 0x70, 0x4a, 0xf0, 0x5d, 0xa0, 0xdc, 0x12,\n    0xba, 0x53, 0xf2, 0xdb, 0x00, 0x00, 0x00, 0x05,\n    0x00, 0x00, 0x00, 0x74, 0x6a, 0x52, 0x88, 0x00,\n    0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00,\n    // outs[] count\n    0x00, 0x00, 0x00, 0x01,\n    // outs[0]\n    0x0e, 0xb5, 0xcc, 0xb8, 0x5c, 0x29, 0x00, 0x9b,\n    0x60, 0x60, 0xde, 0xcb, 0x35, 0x3a, 0x38, 0xea,\n    0x3b, 0x52, 0xcd, 0x20, 0x00, 0x00, 0x00, 0x74,\n    0x6a, 0x52, 0x88, 0x00, 0xdb, 0xcf, 0x89, 0x0f,\n    0x77, 0xf4, 0x9b, 0x96, 0x85, 0x76, 0x48, 0xb7,\n    0x2b, 0x77, 0xf9, 0xf8, 0x29, 0x37, 0xf2, 0x8a,\n    0x68, 0x70, 0x4a, 0xf0, 0x5d, 0xa0, 0xdc, 0x12,\n    0xba, 0x53, 0xf2, 0xdb,\n]\n")),(0,x.kt)("h2",{id:"credentials"},"Credentials"),(0,x.kt)("p",null,"Credentials have one possible type: ",(0,x.kt)("inlineCode",{parentName:"p"},"SECP256K1Credential"),". Each credential is paired with an Input. The order of the credentials match the order of the inputs."),(0,x.kt)("h2",{id:"secp256k1-credential"},"SECP256K1 Credential"),(0,x.kt)("p",null,"A ",(0,x.kt)("a",{parentName:"p",href:"./cryptographic-primitives#cryptography-in-the-lux-virtual-machine"},"secp256k1")," credential contains a list of 65-byte recoverable signatures."),(0,x.kt)("h3",{id:"what-secp256k1-credential-contains"},"What SECP256K1 Credential Contains"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID"))," is the ID for this type. It is ",(0,x.kt)("inlineCode",{parentName:"li"},"0x00000009"),"."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Signatures"))," is an array of 65-byte recoverable signatures. The order of the signatures must match the input's signature indices.")),(0,x.kt)("h3",{id:"gantt-secp256k1-credential-specification"},"Gantt SECP256K1 Credential Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+------------------------------+---------------------------------+\n| type_id         : int        |                         4 bytes |\n+-----------------+------------+---------------------------------+\n| signatures      : [][65]byte |  4 + 65 * len(signatures) bytes |\n+-----------------+------------+---------------------------------+\n                               |  8 + 65 * len(signatures) bytes |\n                               +---------------------------------+\n")),(0,x.kt)("h3",{id:"proto-secp256k1-credential-specification"},"Proto SECP256K1 Credential Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message SECP256K1Credential {\n    uint32 typeID = 1;             // 4 bytes\n    repeated bytes signatures = 2; // 4 bytes + 65 bytes * len(signatures)\n}\n")),(0,x.kt)("h3",{id:"secp256k1-credential-example"},"SECP256K1 Credential Example"),(0,x.kt)("p",null,"Let's make a payment input with:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TypeID")),": 9"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"signatures")),":",(0,x.kt)("ul",{parentName:"li"},(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("inlineCode",{parentName:"li"},"0x0acccf47a820549a84428440e2421975138790e41be262f7197f3d93faa26cc8741060d743ffaf025782c8c86b862d2b9febebe7d352f0b4591afbd1a737f8a30010199dbf"))))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    TypeID         <- 0x00000009\n    Signatures     <- [\n        0x0acccf47a820549a84428440e2421975138790e41be262f7197f3d93faa26cc8741060d743ffaf025782c8c86b862d2b9febebe7d352f0b4591afbd1a737f8a30010199dbf,\n    ]\n]\n=\n[\n    // Type ID\n    0x00, 0x00, 0x00, 0x09,\n    // length:\n    0x00, 0x00, 0x00, 0x01,\n    // sig[0]\n    0x0a, 0xcc, 0xcf, 0x47, 0xa8, 0x20, 0x54, 0x9a,\n    0x84, 0x42, 0x84, 0x40, 0xe2, 0x42, 0x19, 0x75,\n    0x13, 0x87, 0x90, 0xe4, 0x1b, 0xe2, 0x62, 0xf7,\n    0x19, 0x7f, 0x3d, 0x93, 0xfa, 0xa2, 0x6c, 0xc8,\n    0x74, 0x10, 0x60, 0xd7, 0x43, 0xff, 0xaf, 0x02,\n    0x57, 0x82, 0xc8, 0xc8, 0x6b, 0x86, 0x2d, 0x2b,\n    0x9f, 0xeb, 0xeb, 0xe7, 0xd3, 0x52, 0xf0, 0xb4,\n    0x59, 0x1a, 0xfb, 0xd1, 0xa7, 0x37, 0xf8, 0xa3,\n    0x00, 0x10, 0x19, 0x9d, 0xbf,\n]\n")),(0,x.kt)("h2",{id:"signed-transaction"},"Signed Transaction"),(0,x.kt)("p",null,"A signed transaction contains an unsigned ",(0,x.kt)("inlineCode",{parentName:"p"},"AtomicTx")," and credentials."),(0,x.kt)("h3",{id:"what-signed-transaction-contains"},"What Signed Transaction Contains"),(0,x.kt)("p",null,"A signed transaction contains a ",(0,x.kt)("inlineCode",{parentName:"p"},"CodecID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"AtomicTx"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"Credentials"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"CodecID"))," The only current valid codec id is ",(0,x.kt)("inlineCode",{parentName:"li"},"00 00"),"."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AtomicTx"))," is an atomic transaction, as described above."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Credentials"))," is an array of credentials. Each credential corresponds to the input at the same index in the AtomicTx")),(0,x.kt)("h3",{id:"gantt-signed-transaction-specification"},"Gantt Signed Transaction Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+---------------------+--------------+------------------------------------------------+\n| codec_id            : uint16       |                                        2 bytes |\n+---------------------+--------------+------------------------------------------------+\n| atomic_tx           : AtomicTx     |                          size(atomic_tx) bytes |\n+---------------------+--------------+------------------------------------------------+\n| credentials         : []Credential |                    4 + size(credentials) bytes |\n+---------------------+--------------+------------------------------------------------+\n                                     |   6 + size(atomic_tx) + len(credentials) bytes |\n                                     +------------------------------------------------+\n")),(0,x.kt)("h3",{id:"proto-signed-transaction-specification"},"Proto Signed Transaction Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message Tx {\n    uint16 codec_id = 1;                 // 2 bytes\n    AtomicTx atomic_tx = 2;              // size(atomic_tx)\n    repeated Credential credentials = 3; // 4 bytes + size(credentials)\n}\n")),(0,x.kt)("h3",{id:"signed-transaction-example"},"Signed Transaction Example"),(0,x.kt)("p",null,"Let's make a signed transaction that uses the unsigned transaction and credential from the previous examples."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("p",{parentName:"li"},(0,x.kt)("strong",{parentName:"p"},(0,x.kt)("inlineCode",{parentName:"strong"},"CodecID")),": ",(0,x.kt)("inlineCode",{parentName:"p"},"0"))),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("p",{parentName:"li"},(0,x.kt)("strong",{parentName:"p"},(0,x.kt)("inlineCode",{parentName:"strong"},"UnsignedTx")),": ",(0,x.kt)("inlineCode",{parentName:"p"},"0x000000000000303991060eabfb5a571720109b5896e5ff00010a1cfe6b103d585e6ebf27b97a1735d891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf000000016613a40dcdd8d22ea4aa99a4c84349056317cf550b6685e045e459954f258e5900000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000005000000746a5288000000000100000000000000010eb5ccb85c29009b6060decb353a38ea3b52cd20000000746a528800dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db"))),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("p",{parentName:"li"},(0,x.kt)("strong",{parentName:"p"},(0,x.kt)("inlineCode",{parentName:"strong"},"Credentials"))),(0,x.kt)("p",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"p"},"0x00000009000000010acccf47a820549a84428440e2421975138790e41be262f7197f3d93faa26cc8741060d743ffaf025782c8c86b862d2b9febebe7d352f0b4591afbd1a737f8a300")))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    CodecID            <- 0x0000\n    UnsignedAtomic Tx  <- 0x0000000100000004ffffffffeeeeeeeeddddddddccccccccbbbbbbbbaaaaaaaa999999998888888800000001000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f000000070000000000003039000000000000d431000000010000000251025c61fbcfc078f69334f834be6dd26d55a955c3344128e060128ede3523a24a461c8943ab085900000001f1e1d1c1b1a191817161514131211101f0e0d0c0b0a09080706050403020100000000005000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f0000000500000000075bcd150000000200000007000000030000000400010203\n    Credentials        <- [\n        0x00000009000000010acccf47a820549a84428440e2421975138790e41be262f7197f3d93faa26cc8741060d743ffaf025782c8c86b862d2b9febebe7d352f0b4591afbd1a737f8a300,\n    ]\n]\n=\n[\n    // Codec ID\n    0x00, 0x00,\n    // unsigned atomic transaction:\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x39,\n    0x91, 0x06, 0x0e, 0xab, 0xfb, 0x5a, 0x57, 0x17,\n    0x20, 0x10, 0x9b, 0x58, 0x96, 0xe5, 0xff, 0x00,\n    0x01, 0x0a, 0x1c, 0xfe, 0x6b, 0x10, 0x3d, 0x58,\n    0x5e, 0x6e, 0xbf, 0x27, 0xb9, 0x7a, 0x17, 0x35,\n    0xd8, 0x91, 0xad, 0x56, 0x05, 0x6d, 0x9c, 0x01,\n    0xf1, 0x8f, 0x43, 0xf5, 0x8b, 0x5c, 0x78, 0x4a,\n    0xd0, 0x7a, 0x4a, 0x49, 0xcf, 0x3d, 0x1f, 0x11,\n    0x62, 0x38, 0x04, 0xb5, 0xcb, 0xa2, 0xc6, 0xbf,\n    0x00, 0x00, 0x00, 0x01, 0x66, 0x13, 0xa4, 0x0d,\n    0xcd, 0xd8, 0xd2, 0x2e, 0xa4, 0xaa, 0x99, 0xa4,\n    0xc8, 0x43, 0x49, 0x05, 0x63, 0x17, 0xcf, 0x55,\n    0x0b, 0x66, 0x85, 0xe0, 0x45, 0xe4, 0x59, 0x95,\n    0x4f, 0x25, 0x8e, 0x59, 0x00, 0x00, 0x00, 0x01,\n    0xdb, 0xcf, 0x89, 0x0f, 0x77, 0xf4, 0x9b, 0x96,\n    0x85, 0x76, 0x48, 0xb7, 0x2b, 0x77, 0xf9, 0xf8,\n    0x29, 0x37, 0xf2, 0x8a, 0x68, 0x70, 0x4a, 0xf0,\n    0x5d, 0xa0, 0xdc, 0x12, 0xba, 0x53, 0xf2, 0xdb,\n    0x00, 0x00, 0x00, 0x05, 0x00, 0x00, 0x00, 0x74,\n    0x6a, 0x52, 0x88, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x0e, 0xb5, 0xcc, 0xb8, 0x5c, 0x29, 0x00, 0x9b,\n    0x60, 0x60, 0xde, 0xcb, 0x35, 0x3a, 0x38, 0xea,\n    0x3b, 0x52, 0xcd, 0x20, 0x00, 0x00, 0x00, 0x74,\n    0x6a, 0x52, 0x88, 0x00, 0xdb, 0xcf, 0x89, 0x0f,\n    0x77, 0xf4, 0x9b, 0x96, 0x85, 0x76, 0x48, 0xb7,\n    0x2b, 0x77, 0xf9, 0xf8, 0x29, 0x37, 0xf2, 0x8a,\n    0x68, 0x70, 0x4a, 0xf0, 0x5d, 0xa0, 0xdc, 0x12,\n    0xba, 0x53, 0xf2, 0xdb,\n    // number of credentials:\n    0x00, 0x00, 0x00, 0x01,\n    // credential[0]:\n    0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x01,\n    0x0a, 0xcc, 0xcf, 0x47, 0xa8, 0x20, 0x54, 0x9a,\n    0x84, 0x42, 0x84, 0x40, 0xe2, 0x42, 0x19, 0x75,\n    0x13, 0x87, 0x90, 0xe4, 0x1b, 0xe2, 0x62, 0xf7,\n    0x19, 0x7f, 0x3d, 0x93, 0xfa, 0xa2, 0x6c, 0xc8,\n    0x74, 0x10, 0x60, 0xd7, 0x43, 0xff, 0xaf, 0x02,\n    0x57, 0x82, 0xc8, 0xc8, 0x6b, 0x86, 0x2d, 0x2b,\n    0x9f, 0xeb, 0xeb, 0xe7, 0xd3, 0x52, 0xf0, 0xb4,\n    0x59, 0x1a, 0xfb, 0xd1, 0xa7, 0x37, 0xf8, 0xa3,\n    0x00,\n")),(0,x.kt)("h2",{id:"utxo"},"UTXO"),(0,x.kt)("p",null,"A UTXO is a standalone representation of a transaction output."),(0,x.kt)("h3",{id:"what-utxo-contains"},"What UTXO Contains"),(0,x.kt)("p",null,"A UTXO contains a ",(0,x.kt)("inlineCode",{parentName:"p"},"CodecID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"TxID"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"UTXOIndex"),", ",(0,x.kt)("inlineCode",{parentName:"p"},"AssetID"),", and ",(0,x.kt)("inlineCode",{parentName:"p"},"Output"),"."),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"CodecID"))," The only valid ",(0,x.kt)("inlineCode",{parentName:"li"},"CodecID")," is ",(0,x.kt)("inlineCode",{parentName:"li"},"00 00")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TxID"))," is a 32-byte transaction ID. Transaction IDs are calculated by taking sha256 of the bytes of the signed transaction."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"UTXOIndex"))," is an int that specifies which output in the transaction specified by ",(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TxID"))," that this utxo was created by."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AssetID"))," is a 32-byte array that defines which asset this utxo references."),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Output"))," is the output object that created this utxo. The serialization of Outputs was defined above.")),(0,x.kt)("h3",{id:"gantt-utxo-specification"},"Gantt UTXO Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"+--------------+----------+-------------------------+\n| codec_id     : uint16   |                 2 bytes |\n+--------------+----------+-------------------------+\n| tx_id        : [32]byte |                32 bytes |\n+--------------+----------+-------------------------+\n| output_index : int      |                 4 bytes |\n+--------------+----------+-------------------------+\n| asset_id     : [32]byte |                32 bytes |\n+--------------+----------+-------------------------+\n| output       : Output   |      size(output) bytes |\n+--------------+----------+-------------------------+\n                          | 70 + size(output) bytes |\n                          +-------------------------+\n")),(0,x.kt)("h3",{id:"proto-utxo-specification"},"Proto UTXO Specification"),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"message Utxo {\n    uint16 codec_id = 1;     // 02 bytes\n    bytes tx_id = 2;         // 32 bytes\n    uint32 output_index = 3; // 04 bytes\n    bytes asset_id = 4;      // 32 bytes\n    Output output = 5;       // size(output)\n}\n")),(0,x.kt)("h3",{id:"utxo-example"},"UTXO Example"),(0,x.kt)("p",null,"Let\u2019s make a UTXO from the signed transaction created above:"),(0,x.kt)("ul",null,(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"CodecID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"TxID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0xf966750f438867c3c9828ddcdbe660e21ccdbb36a9276958f011ba472f75d4e7")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"UTXOIndex")),": 0 = 0x00000000"),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"AssetID")),": ",(0,x.kt)("inlineCode",{parentName:"li"},"0x000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f")),(0,x.kt)("li",{parentName:"ul"},(0,x.kt)("strong",{parentName:"li"},(0,x.kt)("inlineCode",{parentName:"strong"},"Output")),": ",(0,x.kt)("inlineCode",{parentName:"li"},'"Example EVMOutput as defined above"'))),(0,x.kt)("pre",null,(0,x.kt)("code",{parentName:"pre",className:"language-text"},"[\n    CodecID   <- 0x0000\n    TxID      <- 0xf966750f438867c3c9828ddcdbe660e21ccdbb36a9276958f011ba472f75d4e7\n    UTXOIndex <- 0x00000000\n    AssetID   <- 0x000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f\n    Output    <-     0x000000070000000000003039000000000000d431000000010000000251025c61fbcfc078f69334f834be6dd26d55a955c3344128e060128ede3523a24a461c8943ab0859\n]\n=\n[\n    // Codec ID:\n    0x00, 0x00,\n    // txID:\n    0xf9, 0x66, 0x75, 0x0f, 0x43, 0x88, 0x67, 0xc3,\n    0xc9, 0x82, 0x8d, 0xdc, 0xdb, 0xe6, 0x60, 0xe2,\n    0x1c, 0xcd, 0xbb, 0x36, 0xa9, 0x27, 0x69, 0x58,\n    0xf0, 0x11, 0xba, 0x47, 0x2f, 0x75, 0xd4, 0xe7,\n    // utxo index:\n    0x00, 0x00, 0x00, 0x00,\n    // assetID:\n    0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n    0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,\n    0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,\n    0x18, 0x19, 0x1a, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f,\n    // output:\n    0x00, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x30, 0x39, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0xd4, 0x31, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x00, 0x02, 0x00, 0x01, 0x02, 0x03,\n    0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b,\n    0x0c, 0x0d, 0x0e, 0x0f, 0x10, 0x11, 0x12, 0x13,\n    0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1a, 0x1b,\n    0x1c, 0x1d, 0x1e, 0x1f, 0x20, 0x21, 0x22, 0x23,\n    0x24, 0x25, 0x26, 0x27,\n]\n")))}u.isMDXComponent=!0}}]);